(LIT "distutils.command.install_scripts\n\nImplements the Distutils 'install_scripts' command, for installing\nPython scripts.")
(NEWLINE)
(KEYWORD import)
(ID "os")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(PUNCT ".")
(ID "core")
(KEYWORD import)
(ID "Command")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(KEYWORD import)
(ID "log")
(NEWLINE)
(KEYWORD from)
(ID "stat")
(KEYWORD import)
(ID "ST_MODE")
(NEWLINE)
(KEYWORD class)
(ID "install_scripts")
(PUNCT "(")
(ID "Command")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "description")
(PUNCT "=")
(LIT "install scripts (Python or otherwise)")
(NEWLINE)
(ID "user_options")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(LIT "install-dir=")
(PUNCT ",")
(LIT "d")
(PUNCT ",")
(LIT "directory to install scripts to")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "build-dir=")
(PUNCT ",")
(LIT "b")
(PUNCT ",")
(LIT "build directory (where to install from)")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "force")
(PUNCT ",")
(LIT "f")
(PUNCT ",")
(LIT "force installation (overwrite existing files)")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "skip-build")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(LIT "skip the build steps")
(PUNCT ")")
(PUNCT ",")
(PUNCT "]")
(NEWLINE)
(ID "boolean_options")
(PUNCT "=")
(PUNCT "[")
(LIT "force")
(PUNCT ",")
(LIT "skip-build")
(PUNCT "]")
(NEWLINE)
(KEYWORD def)
(ID "initialize_options")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "install_dir")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "force")
(PUNCT "=")
(LIT 0)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "build_dir")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "skip_build")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "finalize_options")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "set_undefined_options")
(PUNCT "(")
(LIT "build")
(PUNCT ",")
(PUNCT "(")
(LIT "build_scripts")
(PUNCT ",")
(LIT "build_dir")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "set_undefined_options")
(PUNCT "(")
(LIT "install")
(PUNCT ",")
(PUNCT "(")
(LIT "install_scripts")
(PUNCT ",")
(LIT "install_dir")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "force")
(PUNCT ",")
(LIT "force")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "skip_build")
(PUNCT ",")
(LIT "skip_build")
(PUNCT ")")
(PUNCT ",")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "run")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "skip_build")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "run_command")
(PUNCT "(")
(LIT "build_scripts")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "outfiles")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "copy_tree")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "build_dir")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "install_dir")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "name")
(PUNCT "==")
(LIT "posix")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD for)
(ID "file")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "get_outputs")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "dry_run")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "log")
(PUNCT ".")
(ID "info")
(PUNCT "(")
(LIT "changing mode of %s")
(PUNCT ",")
(ID "file")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "mode")
(PUNCT "=")
(PUNCT "(")
(PUNCT "(")
(ID "os")
(PUNCT ".")
(ID "stat")
(PUNCT "(")
(ID "file")
(PUNCT ")")
(PUNCT "[")
(ID "ST_MODE")
(PUNCT "]")
(PUNCT ")")
(PUNCT "|")
(LIT 365)
(PUNCT ")")
(PUNCT "&")
(LIT 4095)
(NEWLINE)
(ID "log")
(PUNCT ".")
(ID "info")
(PUNCT "(")
(LIT "changing mode of %s to %o")
(PUNCT ",")
(ID "file")
(PUNCT ",")
(ID "mode")
(PUNCT ")")
(NEWLINE)
(ID "os")
(PUNCT ".")
(ID "chmod")
(PUNCT "(")
(ID "file")
(PUNCT ",")
(ID "mode")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "get_inputs")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "distribution")
(PUNCT ".")
(ID "scripts")
(KEYWORD or)
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "get_outputs")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "outfiles")
(KEYWORD or)
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(DEDENT)
(ENDMARKER)
