(KEYWORD import)
(ID "sys")
(PUNCT ",")
(ID "os")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD import)
(ID "ctypes")
(NEWLINE)
(ID "ctypes")
(PUNCT ".")
(ID "windll")
(PUNCT ".")
(ID "kernel32")
(PUNCT ".")
(ID "GetFinalPathNameByHandleW")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(PUNCT "(")
(ID "ImportError")
(PUNCT ",")
(ID "AttributeError")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "convert_path")
(PUNCT "(")
(ID "s")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "convert_path")
(PUNCT "(")
(ID "s")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "isinstance")
(PUNCT "(")
(ID "s")
(PUNCT ",")
(ID "bytes")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT ".")
(ID "decode")
(PUNCT "(")
(LIT "mbcs")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "hdir")
(PUNCT "=")
(ID "ctypes")
(PUNCT ".")
(ID "windll")
(PUNCT ".")
(ID "kernel32")
(PUNCT ".")
(ID "CreateFileW")
(PUNCT "(")
(ID "s")
(PUNCT ",")
(LIT 128)
(PUNCT ",")
(LIT 1)
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(LIT 3)
(PUNCT ",")
(LIT 33554432)
(PUNCT ",")
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "hdir")
(PUNCT "==")
(PUNCT "-")
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(ID "buf")
(PUNCT "=")
(ID "ctypes")
(PUNCT ".")
(ID "create_unicode_buffer")
(PUNCT "(")
(LIT "")
(PUNCT ",")
(LIT 32768)
(PUNCT ")")
(NEWLINE)
(ID "res")
(PUNCT "=")
(ID "ctypes")
(PUNCT ".")
(ID "windll")
(PUNCT ".")
(ID "kernel32")
(PUNCT ".")
(ID "GetFinalPathNameByHandleW")
(PUNCT "(")
(ID "hdir")
(PUNCT ",")
(ID "buf")
(PUNCT ",")
(ID "len")
(PUNCT "(")
(ID "buf")
(PUNCT ")")
(PUNCT ",")
(LIT 0)
(PUNCT ")")
(NEWLINE)
(ID "ctypes")
(PUNCT ".")
(ID "windll")
(PUNCT ".")
(ID "kernel32")
(PUNCT ".")
(ID "CloseHandle")
(PUNCT "(")
(ID "hdir")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "res")
(PUNCT "==")
(LIT 0)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(ID "s")
(PUNCT "=")
(ID "buf")
(PUNCT "[")
(PUNCT ":")
(ID "res")
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "s")
(PUNCT ".")
(ID "startswith")
(PUNCT "(")
(LIT "\\\\?\\")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT "[")
(LIT 4)
(PUNCT ":")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "s")
(PUNCT ".")
(ID "startswith")
(PUNCT "(")
(LIT "UNC")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "s")
(PUNCT "=")
(LIT "\\")
(PUNCT "+")
(ID "s")
(PUNCT "[")
(LIT 3)
(PUNCT ":")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "prefix")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "sys")
(PUNCT ".")
(ID "base_prefix")
(PUNCT ",")
(LIT "tcl")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "exists")
(PUNCT "(")
(ID "prefix")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "prefix")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "sys")
(PUNCT ".")
(ID "base_prefix")
(PUNCT ",")
(LIT "externals")
(PUNCT ",")
(LIT "tcltk")
(PUNCT ",")
(LIT "lib")
(PUNCT ")")
(NEWLINE)
(ID "prefix")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "abspath")
(PUNCT "(")
(ID "prefix")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "exists")
(PUNCT "(")
(ID "prefix")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "prefix")
(PUNCT "=")
(ID "convert_path")
(PUNCT "(")
(ID "prefix")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(LIT "TCL_LIBRARY")
(KEYWORD not)
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD for)
(ID "name")
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "listdir")
(PUNCT "(")
(ID "prefix")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "name")
(PUNCT ".")
(ID "startswith")
(PUNCT "(")
(LIT "tcl")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "tcldir")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "prefix")
(PUNCT ",")
(ID "name")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "isdir")
(PUNCT "(")
(ID "tcldir")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT "[")
(LIT "TCL_LIBRARY")
(PUNCT "]")
(PUNCT "=")
(ID "tcldir")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD import)
(ID "_tkinter")
(NEWLINE)
(ID "ver")
(PUNCT "=")
(ID "str")
(PUNCT "(")
(ID "_tkinter")
(PUNCT ".")
(ID "TCL_VERSION")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(LIT "TK_LIBRARY")
(KEYWORD not)
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "v")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "prefix")
(PUNCT ",")
(LIT "tk")
(PUNCT "+")
(ID "ver")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "exists")
(PUNCT "(")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "v")
(PUNCT ",")
(LIT "tclIndex")
(PUNCT ")")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT "[")
(LIT "TK_LIBRARY")
(PUNCT "]")
(PUNCT "=")
(ID "v")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(LIT "TIX_LIBRARY")
(KEYWORD not)
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD for)
(ID "name")
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "listdir")
(PUNCT "(")
(ID "prefix")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "name")
(PUNCT ".")
(ID "startswith")
(PUNCT "(")
(LIT "tix")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "tixdir")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "prefix")
(PUNCT ",")
(ID "name")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "isdir")
(PUNCT "(")
(ID "tixdir")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT "[")
(LIT "TIX_LIBRARY")
(PUNCT "]")
(PUNCT "=")
(ID "tixdir")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(DEDENT)
(DEDENT)
(ENDMARKER)
