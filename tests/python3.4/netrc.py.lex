(LIT "An object-oriented interface to .netrc files.")
(NEWLINE)
(KEYWORD import)
(ID "os")
(PUNCT ",")
(ID "shlex")
(PUNCT ",")
(ID "stat")
(NEWLINE)
(ID "__all__")
(PUNCT "=")
(PUNCT "[")
(LIT "netrc")
(PUNCT ",")
(LIT "NetrcParseError")
(PUNCT "]")
(NEWLINE)
(KEYWORD class)
(ID "NetrcParseError")
(PUNCT "(")
(ID "Exception")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Exception raised on syntax errors in the .netrc file.")
(NEWLINE)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "filename")
(PUNCT "=")
(KEYWORD None)
(PUNCT ",")
(ID "lineno")
(PUNCT "=")
(KEYWORD None)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "filename")
(PUNCT "=")
(ID "filename")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lineno")
(PUNCT "=")
(ID "lineno")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "msg")
(PUNCT "=")
(ID "msg")
(NEWLINE)
(ID "Exception")
(PUNCT ".")
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "msg")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "__str__")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(LIT "%s (%s, line %s)")
(PUNCT "%")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "msg")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "filename")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "lineno")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "netrc")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "file")
(PUNCT "=")
(KEYWORD None)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "default_netrc")
(PUNCT "=")
(ID "file")
(KEYWORD is)
(KEYWORD None)
(NEWLINE)
(KEYWORD if)
(ID "file")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "file")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT "[")
(LIT "HOME")
(PUNCT "]")
(PUNCT ",")
(LIT ".netrc")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "KeyError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "OSError")
(PUNCT "(")
(LIT "Could not find .netrc: $HOME is not set")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT "=")
(PUNCT "{")
(PUNCT "}")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "macros")
(PUNCT "=")
(PUNCT "{")
(PUNCT "}")
(NEWLINE)
(KEYWORD with)
(ID "open")
(PUNCT "(")
(ID "file")
(PUNCT ")")
(KEYWORD as)
(ID "fp")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_parse")
(PUNCT "(")
(ID "file")
(PUNCT ",")
(ID "fp")
(PUNCT ",")
(ID "default_netrc")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "_parse")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "file")
(PUNCT ",")
(ID "fp")
(PUNCT ",")
(ID "default_netrc")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "lexer")
(PUNCT "=")
(ID "shlex")
(PUNCT ".")
(ID "shlex")
(PUNCT "(")
(ID "fp")
(PUNCT ")")
(NEWLINE)
(ID "lexer")
(PUNCT ".")
(ID "wordchars")
(PUNCT "+=")
(LIT "!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~")
(NEWLINE)
(ID "lexer")
(PUNCT ".")
(ID "commenters")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "commenters")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "#")
(PUNCT ",")
(LIT "")
(PUNCT ")")
(NEWLINE)
(KEYWORD while)
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "saved_lineno")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "lineno")
(NEWLINE)
(ID "toplevel")
(PUNCT "=")
(ID "tt")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "get_token")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "tt")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD break)
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "tt")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "==")
(LIT "#")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "lexer")
(PUNCT ".")
(ID "lineno")
(PUNCT "==")
(ID "saved_lineno")
(KEYWORD and)
(ID "len")
(PUNCT "(")
(ID "tt")
(PUNCT ")")
(PUNCT "==")
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "lexer")
(PUNCT ".")
(ID "instream")
(PUNCT ".")
(ID "readline")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD continue)
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "tt")
(PUNCT "==")
(LIT "machine")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "entryname")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "get_token")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "tt")
(PUNCT "==")
(LIT "default")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "entryname")
(PUNCT "=")
(LIT "default")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "tt")
(PUNCT "==")
(LIT "macdef")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "entryname")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "get_token")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "macros")
(PUNCT "[")
(ID "entryname")
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(ID "lexer")
(PUNCT ".")
(ID "whitespace")
(PUNCT "=")
(LIT " \t")
(NEWLINE)
(KEYWORD while)
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "line")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "instream")
(PUNCT ".")
(ID "readline")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "line")
(KEYWORD or)
(ID "line")
(PUNCT "==")
(LIT "\n")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "lexer")
(PUNCT ".")
(ID "whitespace")
(PUNCT "=")
(LIT " \t\r\n")
(NEWLINE)
(KEYWORD break)
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "macros")
(PUNCT "[")
(ID "entryname")
(PUNCT "]")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "line")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD continue)
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NetrcParseError")
(PUNCT "(")
(LIT "bad toplevel token %r")
(PUNCT "%")
(ID "tt")
(PUNCT ",")
(ID "file")
(PUNCT ",")
(ID "lexer")
(PUNCT ".")
(ID "lineno")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "login")
(PUNCT "=")
(LIT "")
(NEWLINE)
(ID "account")
(PUNCT "=")
(ID "password")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT "[")
(ID "entryname")
(PUNCT "]")
(PUNCT "=")
(PUNCT "{")
(PUNCT "}")
(NEWLINE)
(KEYWORD while)
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "tt")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "get_token")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(PUNCT "(")
(ID "tt")
(PUNCT ".")
(ID "startswith")
(PUNCT "(")
(LIT "#")
(PUNCT ")")
(KEYWORD or)
(ID "tt")
(KEYWORD in)
(PUNCT "{")
(LIT "")
(PUNCT ",")
(LIT "machine")
(PUNCT ",")
(LIT "default")
(PUNCT ",")
(LIT "macdef")
(PUNCT "}")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "password")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT "[")
(ID "entryname")
(PUNCT "]")
(PUNCT "=")
(PUNCT "(")
(ID "login")
(PUNCT ",")
(ID "account")
(PUNCT ",")
(ID "password")
(PUNCT ")")
(NEWLINE)
(ID "lexer")
(PUNCT ".")
(ID "push_token")
(PUNCT "(")
(ID "tt")
(PUNCT ")")
(NEWLINE)
(KEYWORD break)
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NetrcParseError")
(PUNCT "(")
(LIT "malformed %s entry %s terminated by %s")
(PUNCT "%")
(PUNCT "(")
(ID "toplevel")
(PUNCT ",")
(ID "entryname")
(PUNCT ",")
(ID "repr")
(PUNCT "(")
(ID "tt")
(PUNCT ")")
(PUNCT ")")
(PUNCT ",")
(ID "file")
(PUNCT ",")
(ID "lexer")
(PUNCT ".")
(ID "lineno")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD elif)
(ID "tt")
(PUNCT "==")
(LIT "login")
(KEYWORD or)
(ID "tt")
(PUNCT "==")
(LIT "user")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "login")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "get_token")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "tt")
(PUNCT "==")
(LIT "account")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "account")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "get_token")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "tt")
(PUNCT "==")
(LIT "password")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "name")
(PUNCT "==")
(LIT "posix")
(KEYWORD and)
(ID "default_netrc")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "prop")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "fstat")
(PUNCT "(")
(ID "fp")
(PUNCT ".")
(ID "fileno")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "prop")
(PUNCT ".")
(ID "st_uid")
(PUNCT "!=")
(ID "os")
(PUNCT ".")
(ID "getuid")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD import)
(ID "pwd")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "fowner")
(PUNCT "=")
(ID "pwd")
(PUNCT ".")
(ID "getpwuid")
(PUNCT "(")
(ID "prop")
(PUNCT ".")
(ID "st_uid")
(PUNCT ")")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "KeyError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "fowner")
(PUNCT "=")
(LIT "uid %s")
(PUNCT "%")
(ID "prop")
(PUNCT ".")
(ID "st_uid")
(NEWLINE)
(DEDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "user")
(PUNCT "=")
(ID "pwd")
(PUNCT ".")
(ID "getpwuid")
(PUNCT "(")
(ID "os")
(PUNCT ".")
(ID "getuid")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "KeyError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "user")
(PUNCT "=")
(LIT "uid %s")
(PUNCT "%")
(ID "os")
(PUNCT ".")
(ID "getuid")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD raise)
(ID "NetrcParseError")
(PUNCT "(")
(PUNCT "(")
(LIT "~/.netrc file owner (%s) does not match")
(LIT " current user (%s)")
(PUNCT ")")
(PUNCT "%")
(PUNCT "(")
(ID "fowner")
(PUNCT ",")
(ID "user")
(PUNCT ")")
(PUNCT ",")
(ID "file")
(PUNCT ",")
(ID "lexer")
(PUNCT ".")
(ID "lineno")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(PUNCT "(")
(ID "prop")
(PUNCT ".")
(ID "st_mode")
(PUNCT "&")
(PUNCT "(")
(ID "stat")
(PUNCT ".")
(ID "S_IRWXG")
(PUNCT "|")
(ID "stat")
(PUNCT ".")
(ID "S_IRWXO")
(PUNCT ")")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NetrcParseError")
(PUNCT "(")
(LIT "~/.netrc access too permissive: access")
(LIT " permissions must restrict access to only")
(LIT " the owner")
(PUNCT ",")
(ID "file")
(PUNCT ",")
(ID "lexer")
(PUNCT ".")
(ID "lineno")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "password")
(PUNCT "=")
(ID "lexer")
(PUNCT ".")
(ID "get_token")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NetrcParseError")
(PUNCT "(")
(LIT "bad follower token %r")
(PUNCT "%")
(ID "tt")
(PUNCT ",")
(ID "file")
(PUNCT ",")
(ID "lexer")
(PUNCT ".")
(ID "lineno")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "authenticators")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "host")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Return a (user, account, password) tuple for given host.")
(NEWLINE)
(KEYWORD if)
(ID "host")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT "[")
(ID "host")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(LIT "default")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT "[")
(LIT "default")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD None)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "__repr__")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Dump the class data in the format of a .netrc file.")
(NEWLINE)
(ID "rep")
(PUNCT "=")
(LIT "")
(NEWLINE)
(KEYWORD for)
(ID "host")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT ".")
(ID "keys")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "attrs")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "hosts")
(PUNCT "[")
(ID "host")
(PUNCT "]")
(NEWLINE)
(ID "rep")
(PUNCT "=")
(ID "rep")
(PUNCT "+")
(LIT "machine ")
(PUNCT "+")
(ID "host")
(PUNCT "+")
(LIT "\n\tlogin ")
(PUNCT "+")
(ID "repr")
(PUNCT "(")
(ID "attrs")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT ")")
(PUNCT "+")
(LIT "\n")
(NEWLINE)
(KEYWORD if)
(ID "attrs")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "rep")
(PUNCT "=")
(ID "rep")
(PUNCT "+")
(LIT "account ")
(PUNCT "+")
(ID "repr")
(PUNCT "(")
(ID "attrs")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "rep")
(PUNCT "=")
(ID "rep")
(PUNCT "+")
(LIT "\tpassword ")
(PUNCT "+")
(ID "repr")
(PUNCT "(")
(ID "attrs")
(PUNCT "[")
(LIT 2)
(PUNCT "]")
(PUNCT ")")
(PUNCT "+")
(LIT "\n")
(NEWLINE)
(DEDENT)
(KEYWORD for)
(ID "macro")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "macros")
(PUNCT ".")
(ID "keys")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "rep")
(PUNCT "=")
(ID "rep")
(PUNCT "+")
(LIT "macdef ")
(PUNCT "+")
(ID "macro")
(PUNCT "+")
(LIT "\n")
(NEWLINE)
(KEYWORD for)
(ID "line")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "macros")
(PUNCT "[")
(ID "macro")
(PUNCT "]")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "rep")
(PUNCT "=")
(ID "rep")
(PUNCT "+")
(ID "line")
(NEWLINE)
(DEDENT)
(ID "rep")
(PUNCT "=")
(ID "rep")
(PUNCT "+")
(LIT "\n")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "rep")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "__name__")
(PUNCT "==")
(LIT "__main__")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "print")
(PUNCT "(")
(ID "netrc")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ENDMARKER)
