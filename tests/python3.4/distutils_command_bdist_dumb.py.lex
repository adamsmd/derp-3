(LIT "distutils.command.bdist_dumb\n\nImplements the Distutils 'bdist_dumb' command (create a \"dumb\" built\ndistribution -- i.e., just an archive to be unpacked under $prefix or\n$exec_prefix).")
(NEWLINE)
(KEYWORD import)
(ID "os")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(PUNCT ".")
(ID "core")
(KEYWORD import)
(ID "Command")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(PUNCT ".")
(ID "util")
(KEYWORD import)
(ID "get_platform")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(PUNCT ".")
(ID "dir_util")
(KEYWORD import)
(ID "remove_tree")
(PUNCT ",")
(ID "ensure_relative")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(PUNCT ".")
(ID "errors")
(KEYWORD import)
(PUNCT "*")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(PUNCT ".")
(ID "sysconfig")
(KEYWORD import)
(ID "get_python_version")
(NEWLINE)
(KEYWORD from)
(ID "distutils")
(KEYWORD import)
(ID "log")
(NEWLINE)
(KEYWORD class)
(ID "bdist_dumb")
(PUNCT "(")
(ID "Command")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "description")
(PUNCT "=")
(LIT "create a \"dumb\" built distribution")
(NEWLINE)
(ID "user_options")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(LIT "bdist-dir=")
(PUNCT ",")
(LIT "d")
(PUNCT ",")
(LIT "temporary directory for creating the distribution")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "plat-name=")
(PUNCT ",")
(LIT "p")
(PUNCT ",")
(LIT "platform name to embed in generated filenames ")
(LIT "(default: %s)")
(PUNCT "%")
(ID "get_platform")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "format=")
(PUNCT ",")
(LIT "f")
(PUNCT ",")
(LIT "archive format to create (tar, ztar, gztar, zip)")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "keep-temp")
(PUNCT ",")
(LIT "k")
(PUNCT ",")
(LIT "keep the pseudo-installation tree around after ")
(PUNCT "+")
(LIT "creating the distribution archive")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "dist-dir=")
(PUNCT ",")
(LIT "d")
(PUNCT ",")
(LIT "directory to put final built distributions in")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "skip-build")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(LIT "skip rebuilding everything (for testing/debugging)")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "relative")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(LIT "build the archive using relative paths")
(LIT "(default: false)")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "owner=")
(PUNCT ",")
(LIT "u")
(PUNCT ",")
(LIT "Owner name used when creating a tar file")
(LIT " [default: current user]")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "group=")
(PUNCT ",")
(LIT "g")
(PUNCT ",")
(LIT "Group name used when creating a tar file")
(LIT " [default: current group]")
(PUNCT ")")
(PUNCT ",")
(PUNCT "]")
(NEWLINE)
(ID "boolean_options")
(PUNCT "=")
(PUNCT "[")
(LIT "keep-temp")
(PUNCT ",")
(LIT "skip-build")
(PUNCT ",")
(LIT "relative")
(PUNCT "]")
(NEWLINE)
(ID "default_format")
(PUNCT "=")
(PUNCT "{")
(LIT "posix")
(PUNCT ":")
(LIT "gztar")
(PUNCT ",")
(LIT "nt")
(PUNCT ":")
(LIT "zip")
(PUNCT "}")
(NEWLINE)
(KEYWORD def)
(ID "initialize_options")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "plat_name")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "format")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "keep_temp")
(PUNCT "=")
(LIT 0)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "dist_dir")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "skip_build")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "relative")
(PUNCT "=")
(LIT 0)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "owner")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "group")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "finalize_options")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "bdist_base")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "get_finalized_command")
(PUNCT "(")
(LIT "bdist")
(PUNCT ")")
(PUNCT ".")
(ID "bdist_base")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "bdist_base")
(PUNCT ",")
(LIT "dumb")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "format")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "format")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "default_format")
(PUNCT "[")
(ID "os")
(PUNCT ".")
(ID "name")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "KeyError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "DistutilsPlatformError")
(PUNCT "(")
(LIT "don't know how to create dumb built distributions ")
(LIT "on platform %s")
(PUNCT "%")
(ID "os")
(PUNCT ".")
(ID "name")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "set_undefined_options")
(PUNCT "(")
(LIT "bdist")
(PUNCT ",")
(PUNCT "(")
(LIT "dist_dir")
(PUNCT ",")
(LIT "dist_dir")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "plat_name")
(PUNCT ",")
(LIT "plat_name")
(PUNCT ")")
(PUNCT ",")
(PUNCT "(")
(LIT "skip_build")
(PUNCT ",")
(LIT "skip_build")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "run")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "skip_build")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "run_command")
(PUNCT "(")
(LIT "build")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "install")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "reinitialize_command")
(PUNCT "(")
(LIT "install")
(PUNCT ",")
(ID "reinit_subcommands")
(PUNCT "=")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(ID "install")
(PUNCT ".")
(ID "root")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(NEWLINE)
(ID "install")
(PUNCT ".")
(ID "skip_build")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "skip_build")
(NEWLINE)
(ID "install")
(PUNCT ".")
(ID "warn_dir")
(PUNCT "=")
(LIT 0)
(NEWLINE)
(ID "log")
(PUNCT ".")
(ID "info")
(PUNCT "(")
(LIT "installing to %s")
(PUNCT "%")
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "run_command")
(PUNCT "(")
(LIT "install")
(PUNCT ")")
(NEWLINE)
(ID "archive_basename")
(PUNCT "=")
(LIT "%s.%s")
(PUNCT "%")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "distribution")
(PUNCT ".")
(ID "get_fullname")
(PUNCT "(")
(PUNCT ")")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "plat_name")
(PUNCT ")")
(NEWLINE)
(ID "pseudoinstall_root")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "dist_dir")
(PUNCT ",")
(ID "archive_basename")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "relative")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "archive_root")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "distribution")
(PUNCT ".")
(ID "has_ext_modules")
(PUNCT "(")
(PUNCT ")")
(KEYWORD and)
(PUNCT "(")
(ID "install")
(PUNCT ".")
(ID "install_base")
(PUNCT "!=")
(ID "install")
(PUNCT ".")
(ID "install_platbase")
(PUNCT ")")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "DistutilsPlatformError")
(PUNCT "(")
(LIT "can't make a dumb built distribution where ")
(LIT "base and platbase are different (%s, %s)")
(PUNCT "%")
(PUNCT "(")
(ID "repr")
(PUNCT "(")
(ID "install")
(PUNCT ".")
(ID "install_base")
(PUNCT ")")
(PUNCT ",")
(ID "repr")
(PUNCT "(")
(ID "install")
(PUNCT ".")
(ID "install_platbase")
(PUNCT ")")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "archive_root")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(PUNCT ",")
(ID "ensure_relative")
(PUNCT "(")
(ID "install")
(PUNCT ".")
(ID "install_base")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "filename")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "make_archive")
(PUNCT "(")
(ID "pseudoinstall_root")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "format")
(PUNCT ",")
(ID "root_dir")
(PUNCT "=")
(ID "archive_root")
(PUNCT ",")
(ID "owner")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "owner")
(PUNCT ",")
(ID "group")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "group")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "distribution")
(PUNCT ".")
(ID "has_ext_modules")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "pyversion")
(PUNCT "=")
(ID "get_python_version")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "pyversion")
(PUNCT "=")
(LIT "any")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "distribution")
(PUNCT ".")
(ID "dist_files")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(PUNCT "(")
(LIT "bdist_dumb")
(PUNCT ",")
(ID "pyversion")
(PUNCT ",")
(ID "filename")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "keep_temp")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "remove_tree")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "bdist_dir")
(PUNCT ",")
(ID "dry_run")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "dry_run")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(ENDMARKER)
