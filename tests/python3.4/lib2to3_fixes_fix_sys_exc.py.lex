(LIT "Fixer for sys.exc_{type, value, traceback}\n\nsys.exc_type -> sys.exc_info()[0]\nsys.exc_value -> sys.exc_info()[1]\nsys.exc_traceback -> sys.exc_info()[2]\n")
(NEWLINE)
(KEYWORD from)
(PUNCT ".")
(PUNCT ".")
(KEYWORD import)
(ID "fixer_base")
(NEWLINE)
(KEYWORD from)
(PUNCT ".")
(PUNCT ".")
(ID "fixer_util")
(KEYWORD import)
(ID "Attr")
(PUNCT ",")
(ID "Call")
(PUNCT ",")
(ID "Name")
(PUNCT ",")
(ID "Number")
(PUNCT ",")
(ID "Subscript")
(PUNCT ",")
(ID "Node")
(PUNCT ",")
(ID "syms")
(NEWLINE)
(KEYWORD class)
(ID "FixSysExc")
(PUNCT "(")
(ID "fixer_base")
(PUNCT ".")
(ID "BaseFix")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "exc_info")
(PUNCT "=")
(PUNCT "[")
(LIT "exc_type")
(PUNCT ",")
(LIT "exc_value")
(PUNCT ",")
(LIT "exc_traceback")
(PUNCT "]")
(NEWLINE)
(ID "BM_compatible")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(ID "PATTERN")
(PUNCT "=")
(LIT "\n              power< 'sys' trailer< dot='.' attribute=(%s) > >\n              ")
(PUNCT "%")
(LIT "|")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(LIT "'%s'")
(PUNCT "%")
(ID "e")
(KEYWORD for)
(ID "e")
(KEYWORD in)
(ID "exc_info")
(PUNCT ")")
(NEWLINE)
(KEYWORD def)
(ID "transform")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "node")
(PUNCT ",")
(ID "results")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "sys_attr")
(PUNCT "=")
(ID "results")
(PUNCT "[")
(LIT "attribute")
(PUNCT "]")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(ID "index")
(PUNCT "=")
(ID "Number")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "exc_info")
(PUNCT ".")
(ID "index")
(PUNCT "(")
(ID "sys_attr")
(PUNCT ".")
(ID "value")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(ID "call")
(PUNCT "=")
(ID "Call")
(PUNCT "(")
(ID "Name")
(PUNCT "(")
(LIT "exc_info")
(PUNCT ")")
(PUNCT ",")
(ID "prefix")
(PUNCT "=")
(ID "sys_attr")
(PUNCT ".")
(ID "prefix")
(PUNCT ")")
(NEWLINE)
(ID "attr")
(PUNCT "=")
(ID "Attr")
(PUNCT "(")
(ID "Name")
(PUNCT "(")
(LIT "sys")
(PUNCT ")")
(PUNCT ",")
(ID "call")
(PUNCT ")")
(NEWLINE)
(ID "attr")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT ".")
(ID "children")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT ".")
(ID "prefix")
(PUNCT "=")
(ID "results")
(PUNCT "[")
(LIT "dot")
(PUNCT "]")
(PUNCT ".")
(ID "prefix")
(NEWLINE)
(ID "attr")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "Subscript")
(PUNCT "(")
(ID "index")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(ID "Node")
(PUNCT "(")
(ID "syms")
(PUNCT ".")
(ID "power")
(PUNCT ",")
(ID "attr")
(PUNCT ",")
(ID "prefix")
(PUNCT "=")
(ID "node")
(PUNCT ".")
(ID "prefix")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ENDMARKER)
