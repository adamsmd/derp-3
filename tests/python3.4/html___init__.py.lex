(LIT "\nGeneral functions for HTML manipulation.\n")
(NEWLINE)
(KEYWORD import)
(ID "re")
(KEYWORD as)
(ID "_re")
(NEWLINE)
(KEYWORD from)
(ID "html")
(PUNCT ".")
(ID "entities")
(KEYWORD import)
(ID "html5")
(KEYWORD as)
(ID "_html5")
(NEWLINE)
(ID "__all__")
(PUNCT "=")
(PUNCT "[")
(LIT "escape")
(PUNCT ",")
(LIT "unescape")
(PUNCT "]")
(NEWLINE)
(KEYWORD def)
(ID "escape")
(PUNCT "(")
(ID "s")
(PUNCT ",")
(ID "quote")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "\n    Replace special characters \"&\", \"<\" and \">\" to HTML-safe sequences.\n    If the optional flag quote is true (the default), the quotation mark\n    characters, both double quote (\") and single quote (') characters are also\n    translated.\n    ")
(NEWLINE)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "&")
(PUNCT ",")
(LIT "&amp;")
(PUNCT ")")
(NEWLINE)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "<")
(PUNCT ",")
(LIT "&lt;")
(PUNCT ")")
(NEWLINE)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT ">")
(PUNCT ",")
(LIT "&gt;")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "quote")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "\"")
(PUNCT ",")
(LIT "&quot;")
(PUNCT ")")
(NEWLINE)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "'")
(PUNCT ",")
(LIT "&#x27;")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(ID "_invalid_charrefs")
(PUNCT "=")
(PUNCT "{")
(LIT 0)
(PUNCT ":")
(LIT "�")
(PUNCT ",")
(LIT 13)
(PUNCT ":")
(LIT "\r")
(PUNCT ",")
(LIT 128)
(PUNCT ":")
(LIT "€")
(PUNCT ",")
(LIT 129)
(PUNCT ":")
(LIT "\u0081")
(PUNCT ",")
(LIT 130)
(PUNCT ":")
(LIT "‚")
(PUNCT ",")
(LIT 131)
(PUNCT ":")
(LIT "ƒ")
(PUNCT ",")
(LIT 132)
(PUNCT ":")
(LIT "„")
(PUNCT ",")
(LIT 133)
(PUNCT ":")
(LIT "…")
(PUNCT ",")
(LIT 134)
(PUNCT ":")
(LIT "†")
(PUNCT ",")
(LIT 135)
(PUNCT ":")
(LIT "‡")
(PUNCT ",")
(LIT 136)
(PUNCT ":")
(LIT "ˆ")
(PUNCT ",")
(LIT 137)
(PUNCT ":")
(LIT "‰")
(PUNCT ",")
(LIT 138)
(PUNCT ":")
(LIT "Š")
(PUNCT ",")
(LIT 139)
(PUNCT ":")
(LIT "‹")
(PUNCT ",")
(LIT 140)
(PUNCT ":")
(LIT "Œ")
(PUNCT ",")
(LIT 141)
(PUNCT ":")
(LIT "\u008D")
(PUNCT ",")
(LIT 142)
(PUNCT ":")
(LIT "Ž")
(PUNCT ",")
(LIT 143)
(PUNCT ":")
(LIT "\u008F")
(PUNCT ",")
(LIT 144)
(PUNCT ":")
(LIT "\u0090")
(PUNCT ",")
(LIT 145)
(PUNCT ":")
(LIT "‘")
(PUNCT ",")
(LIT 146)
(PUNCT ":")
(LIT "’")
(PUNCT ",")
(LIT 147)
(PUNCT ":")
(LIT "“")
(PUNCT ",")
(LIT 148)
(PUNCT ":")
(LIT "”")
(PUNCT ",")
(LIT 149)
(PUNCT ":")
(LIT "•")
(PUNCT ",")
(LIT 150)
(PUNCT ":")
(LIT "–")
(PUNCT ",")
(LIT 151)
(PUNCT ":")
(LIT "—")
(PUNCT ",")
(LIT 152)
(PUNCT ":")
(LIT "˜")
(PUNCT ",")
(LIT 153)
(PUNCT ":")
(LIT "™")
(PUNCT ",")
(LIT 154)
(PUNCT ":")
(LIT "š")
(PUNCT ",")
(LIT 155)
(PUNCT ":")
(LIT "›")
(PUNCT ",")
(LIT 156)
(PUNCT ":")
(LIT "œ")
(PUNCT ",")
(LIT 157)
(PUNCT ":")
(LIT "\u009D")
(PUNCT ",")
(LIT 158)
(PUNCT ":")
(LIT "ž")
(PUNCT ",")
(LIT 159)
(PUNCT ":")
(LIT "Ÿ")
(PUNCT ",")
(PUNCT "}")
(NEWLINE)
(ID "_invalid_codepoints")
(PUNCT "=")
(PUNCT "{")
(LIT 1)
(PUNCT ",")
(LIT 2)
(PUNCT ",")
(LIT 3)
(PUNCT ",")
(LIT 4)
(PUNCT ",")
(LIT 5)
(PUNCT ",")
(LIT 6)
(PUNCT ",")
(LIT 7)
(PUNCT ",")
(LIT 8)
(PUNCT ",")
(LIT 14)
(PUNCT ",")
(LIT 15)
(PUNCT ",")
(LIT 16)
(PUNCT ",")
(LIT 17)
(PUNCT ",")
(LIT 18)
(PUNCT ",")
(LIT 19)
(PUNCT ",")
(LIT 20)
(PUNCT ",")
(LIT 21)
(PUNCT ",")
(LIT 22)
(PUNCT ",")
(LIT 23)
(PUNCT ",")
(LIT 24)
(PUNCT ",")
(LIT 25)
(PUNCT ",")
(LIT 26)
(PUNCT ",")
(LIT 27)
(PUNCT ",")
(LIT 28)
(PUNCT ",")
(LIT 29)
(PUNCT ",")
(LIT 30)
(PUNCT ",")
(LIT 31)
(PUNCT ",")
(LIT 127)
(PUNCT ",")
(LIT 128)
(PUNCT ",")
(LIT 129)
(PUNCT ",")
(LIT 130)
(PUNCT ",")
(LIT 131)
(PUNCT ",")
(LIT 132)
(PUNCT ",")
(LIT 133)
(PUNCT ",")
(LIT 134)
(PUNCT ",")
(LIT 135)
(PUNCT ",")
(LIT 136)
(PUNCT ",")
(LIT 137)
(PUNCT ",")
(LIT 138)
(PUNCT ",")
(LIT 139)
(PUNCT ",")
(LIT 140)
(PUNCT ",")
(LIT 141)
(PUNCT ",")
(LIT 142)
(PUNCT ",")
(LIT 143)
(PUNCT ",")
(LIT 144)
(PUNCT ",")
(LIT 145)
(PUNCT ",")
(LIT 146)
(PUNCT ",")
(LIT 147)
(PUNCT ",")
(LIT 148)
(PUNCT ",")
(LIT 149)
(PUNCT ",")
(LIT 150)
(PUNCT ",")
(LIT 151)
(PUNCT ",")
(LIT 152)
(PUNCT ",")
(LIT 153)
(PUNCT ",")
(LIT 154)
(PUNCT ",")
(LIT 155)
(PUNCT ",")
(LIT 156)
(PUNCT ",")
(LIT 157)
(PUNCT ",")
(LIT 158)
(PUNCT ",")
(LIT 159)
(PUNCT ",")
(LIT 64976)
(PUNCT ",")
(LIT 64977)
(PUNCT ",")
(LIT 64978)
(PUNCT ",")
(LIT 64979)
(PUNCT ",")
(LIT 64980)
(PUNCT ",")
(LIT 64981)
(PUNCT ",")
(LIT 64982)
(PUNCT ",")
(LIT 64983)
(PUNCT ",")
(LIT 64984)
(PUNCT ",")
(LIT 64985)
(PUNCT ",")
(LIT 64986)
(PUNCT ",")
(LIT 64987)
(PUNCT ",")
(LIT 64988)
(PUNCT ",")
(LIT 64989)
(PUNCT ",")
(LIT 64990)
(PUNCT ",")
(LIT 64991)
(PUNCT ",")
(LIT 64992)
(PUNCT ",")
(LIT 64993)
(PUNCT ",")
(LIT 64994)
(PUNCT ",")
(LIT 64995)
(PUNCT ",")
(LIT 64996)
(PUNCT ",")
(LIT 64997)
(PUNCT ",")
(LIT 64998)
(PUNCT ",")
(LIT 64999)
(PUNCT ",")
(LIT 65000)
(PUNCT ",")
(LIT 65001)
(PUNCT ",")
(LIT 65002)
(PUNCT ",")
(LIT 65003)
(PUNCT ",")
(LIT 65004)
(PUNCT ",")
(LIT 65005)
(PUNCT ",")
(LIT 65006)
(PUNCT ",")
(LIT 65007)
(PUNCT ",")
(LIT 11)
(PUNCT ",")
(LIT 65534)
(PUNCT ",")
(LIT 65535)
(PUNCT ",")
(LIT 131070)
(PUNCT ",")
(LIT 131071)
(PUNCT ",")
(LIT 196606)
(PUNCT ",")
(LIT 196607)
(PUNCT ",")
(LIT 262142)
(PUNCT ",")
(LIT 262143)
(PUNCT ",")
(LIT 327678)
(PUNCT ",")
(LIT 327679)
(PUNCT ",")
(LIT 393214)
(PUNCT ",")
(LIT 393215)
(PUNCT ",")
(LIT 458750)
(PUNCT ",")
(LIT 458751)
(PUNCT ",")
(LIT 524286)
(PUNCT ",")
(LIT 524287)
(PUNCT ",")
(LIT 589822)
(PUNCT ",")
(LIT 589823)
(PUNCT ",")
(LIT 655358)
(PUNCT ",")
(LIT 655359)
(PUNCT ",")
(LIT 720894)
(PUNCT ",")
(LIT 720895)
(PUNCT ",")
(LIT 786430)
(PUNCT ",")
(LIT 786431)
(PUNCT ",")
(LIT 851966)
(PUNCT ",")
(LIT 851967)
(PUNCT ",")
(LIT 917502)
(PUNCT ",")
(LIT 917503)
(PUNCT ",")
(LIT 983038)
(PUNCT ",")
(LIT 983039)
(PUNCT ",")
(LIT 1048574)
(PUNCT ",")
(LIT 1048575)
(PUNCT ",")
(LIT 1114110)
(PUNCT ",")
(LIT 1114111)
(PUNCT "}")
(NEWLINE)
(KEYWORD def)
(ID "_replace_charref")
(PUNCT "(")
(ID "s")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "s")
(PUNCT "=")
(ID "s")
(PUNCT ".")
(ID "group")
(PUNCT "(")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "s")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "==")
(LIT "#")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "s")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(KEYWORD in)
(LIT "xX")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "num")
(PUNCT "=")
(ID "int")
(PUNCT "(")
(ID "s")
(PUNCT "[")
(LIT 2)
(PUNCT ":")
(PUNCT "]")
(PUNCT ".")
(ID "rstrip")
(PUNCT "(")
(LIT ";")
(PUNCT ")")
(PUNCT ",")
(LIT 16)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "num")
(PUNCT "=")
(ID "int")
(PUNCT "(")
(ID "s")
(PUNCT "[")
(LIT 1)
(PUNCT ":")
(PUNCT "]")
(PUNCT ".")
(ID "rstrip")
(PUNCT "(")
(LIT ";")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "num")
(KEYWORD in)
(ID "_invalid_charrefs")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "_invalid_charrefs")
(PUNCT "[")
(ID "num")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(LIT 55296)
(PUNCT "<=")
(ID "num")
(PUNCT "<=")
(LIT 57343)
(KEYWORD or)
(ID "num")
(PUNCT ">")
(LIT 1114111)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(LIT "�")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "num")
(KEYWORD in)
(ID "_invalid_codepoints")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(LIT "")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "chr")
(PUNCT "(")
(ID "num")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "s")
(KEYWORD in)
(ID "_html5")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "_html5")
(PUNCT "[")
(ID "s")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD for)
(ID "x")
(KEYWORD in)
(ID "range")
(PUNCT "(")
(ID "len")
(PUNCT "(")
(ID "s")
(PUNCT ")")
(PUNCT "-")
(LIT 1)
(PUNCT ",")
(LIT 1)
(PUNCT ",")
(PUNCT "-")
(LIT 1)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "s")
(PUNCT "[")
(PUNCT ":")
(ID "x")
(PUNCT "]")
(KEYWORD in)
(ID "_html5")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "_html5")
(PUNCT "[")
(ID "s")
(PUNCT "[")
(PUNCT ":")
(ID "x")
(PUNCT "]")
(PUNCT "]")
(PUNCT "+")
(ID "s")
(PUNCT "[")
(ID "x")
(PUNCT ":")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(LIT "&")
(PUNCT "+")
(ID "s")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(ID "_charref")
(PUNCT "=")
(ID "_re")
(PUNCT ".")
(ID "compile")
(PUNCT "(")
(LIT "&(#[0-9]+;?")
(LIT "|#[xX][0-9a-fA-F]+;?")
(LIT "|[^\\t\\n\\f <&#;]{1,32};?)")
(PUNCT ")")
(NEWLINE)
(KEYWORD def)
(ID "unescape")
(PUNCT "(")
(ID "s")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "\n    Convert all named and numeric character references (e.g. &gt;, &#62;,\n    &x3e;) in the string s to the corresponding unicode characters.\n    This function uses the rules defined by the HTML 5 standard\n    for both valid and invalid character references, and the list of\n    HTML 5 named character references defined in html.entities.html5.\n    ")
(NEWLINE)
(KEYWORD if)
(LIT "&")
(KEYWORD not)
(KEYWORD in)
(ID "s")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "_charref")
(PUNCT ".")
(ID "sub")
(PUNCT "(")
(ID "_replace_charref")
(PUNCT ",")
(ID "s")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ENDMARKER)
