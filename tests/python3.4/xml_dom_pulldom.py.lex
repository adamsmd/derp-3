(KEYWORD import)
(ID "xml")
(PUNCT ".")
(ID "sax")
(NEWLINE)
(KEYWORD import)
(ID "xml")
(PUNCT ".")
(ID "sax")
(PUNCT ".")
(ID "handler")
(NEWLINE)
(ID "START_ELEMENT")
(PUNCT "=")
(LIT "START_ELEMENT")
(NEWLINE)
(ID "END_ELEMENT")
(PUNCT "=")
(LIT "END_ELEMENT")
(NEWLINE)
(ID "COMMENT")
(PUNCT "=")
(LIT "COMMENT")
(NEWLINE)
(ID "START_DOCUMENT")
(PUNCT "=")
(LIT "START_DOCUMENT")
(NEWLINE)
(ID "END_DOCUMENT")
(PUNCT "=")
(LIT "END_DOCUMENT")
(NEWLINE)
(ID "PROCESSING_INSTRUCTION")
(PUNCT "=")
(LIT "PROCESSING_INSTRUCTION")
(NEWLINE)
(ID "IGNORABLE_WHITESPACE")
(PUNCT "=")
(LIT "IGNORABLE_WHITESPACE")
(NEWLINE)
(ID "CHARACTERS")
(PUNCT "=")
(LIT "CHARACTERS")
(NEWLINE)
(KEYWORD class)
(ID "PullDOM")
(PUNCT "(")
(ID "xml")
(PUNCT ".")
(ID "sax")
(PUNCT ".")
(ID "ContentHandler")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_locator")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "document")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "documentFactory")
(PUNCT "=")
(KEYWORD None)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD from)
(ID "xml")
(PUNCT ".")
(ID "dom")
(KEYWORD import)
(ID "XML_NAMESPACE")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "documentFactory")
(PUNCT "=")
(ID "documentFactory")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "=")
(PUNCT "[")
(KEYWORD None)
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "firstEvent")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "push")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT ".")
(ID "append")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "pop")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT ".")
(ID "pop")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "AttributeError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD pass)
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_ns_contexts")
(PUNCT "=")
(PUNCT "[")
(PUNCT "{")
(ID "XML_NAMESPACE")
(PUNCT ":")
(LIT "xml")
(PUNCT "}")
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_current_context")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_ns_contexts")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pending_events")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "pop")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "result")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(KEYWORD del)
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(KEYWORD return)
(ID "result")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "setDocumentLocator")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "locator")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_locator")
(PUNCT "=")
(ID "locator")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "startPrefixMapping")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "prefix")
(PUNCT ",")
(ID "uri")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(KEYWORD not)
(ID "hasattr")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(LIT "_xmlns_attrs")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_xmlns_attrs")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_xmlns_attrs")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(PUNCT "(")
(ID "prefix")
(KEYWORD or)
(LIT "xmlns")
(PUNCT ",")
(ID "uri")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_ns_contexts")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_current_context")
(PUNCT ".")
(ID "copy")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_current_context")
(PUNCT "[")
(ID "uri")
(PUNCT "]")
(PUNCT "=")
(ID "prefix")
(KEYWORD or)
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "endPrefixMapping")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "prefix")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_current_context")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_ns_contexts")
(PUNCT ".")
(ID "pop")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "startElementNS")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ",")
(ID "tagName")
(PUNCT ",")
(ID "attrs")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "xmlns_uri")
(PUNCT "=")
(LIT "http://www.w3.org/2000/xmlns/")
(NEWLINE)
(ID "xmlns_attrs")
(PUNCT "=")
(ID "getattr")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(LIT "_xmlns_attrs")
(PUNCT ",")
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "xmlns_attrs")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD for)
(ID "aname")
(PUNCT ",")
(ID "value")
(KEYWORD in)
(ID "xmlns_attrs")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "attrs")
(PUNCT ".")
(ID "_attrs")
(PUNCT "[")
(PUNCT "(")
(ID "xmlns_uri")
(PUNCT ",")
(ID "aname")
(PUNCT ")")
(PUNCT "]")
(PUNCT "=")
(ID "value")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_xmlns_attrs")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "uri")
(PUNCT ",")
(ID "localname")
(PUNCT "=")
(ID "name")
(NEWLINE)
(KEYWORD if)
(ID "uri")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "tagName")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "prefix")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_current_context")
(PUNCT "[")
(ID "uri")
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "prefix")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "tagName")
(PUNCT "=")
(ID "prefix")
(PUNCT "+")
(LIT ":")
(PUNCT "+")
(ID "localname")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "tagName")
(PUNCT "=")
(ID "localname")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createElementNS")
(PUNCT "(")
(ID "uri")
(PUNCT ",")
(ID "tagName")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "buildDocument")
(PUNCT "(")
(ID "uri")
(PUNCT ",")
(ID "tagName")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createElement")
(PUNCT "(")
(ID "localname")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "buildDocument")
(PUNCT "(")
(KEYWORD None)
(PUNCT ",")
(ID "localname")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD for)
(ID "aname")
(PUNCT ",")
(ID "value")
(KEYWORD in)
(ID "attrs")
(PUNCT ".")
(ID "items")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "a_uri")
(PUNCT ",")
(ID "a_localname")
(PUNCT "=")
(ID "aname")
(NEWLINE)
(KEYWORD if)
(ID "a_uri")
(PUNCT "==")
(ID "xmlns_uri")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "a_localname")
(PUNCT "==")
(LIT "xmlns")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "qname")
(PUNCT "=")
(ID "a_localname")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "qname")
(PUNCT "=")
(LIT "xmlns:")
(PUNCT "+")
(ID "a_localname")
(NEWLINE)
(DEDENT)
(ID "attr")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createAttributeNS")
(PUNCT "(")
(ID "a_uri")
(PUNCT ",")
(ID "qname")
(PUNCT ")")
(NEWLINE)
(ID "node")
(PUNCT ".")
(ID "setAttributeNodeNS")
(PUNCT "(")
(ID "attr")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "a_uri")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "prefix")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_current_context")
(PUNCT "[")
(ID "a_uri")
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "prefix")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "qname")
(PUNCT "=")
(ID "prefix")
(PUNCT "+")
(LIT ":")
(PUNCT "+")
(ID "a_localname")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "qname")
(PUNCT "=")
(ID "a_localname")
(NEWLINE)
(DEDENT)
(ID "attr")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createAttributeNS")
(PUNCT "(")
(ID "a_uri")
(PUNCT ",")
(ID "qname")
(PUNCT ")")
(NEWLINE)
(ID "node")
(PUNCT ".")
(ID "setAttributeNodeNS")
(PUNCT "(")
(ID "attr")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "attr")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createAttribute")
(PUNCT "(")
(ID "a_localname")
(PUNCT ")")
(NEWLINE)
(ID "node")
(PUNCT ".")
(ID "setAttributeNode")
(PUNCT "(")
(ID "attr")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "attr")
(PUNCT ".")
(ID "value")
(PUNCT "=")
(ID "value")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "START_ELEMENT")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "push")
(PUNCT "(")
(ID "node")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "endElementNS")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ",")
(ID "tagName")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "END_ELEMENT")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "pop")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "startElement")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ",")
(ID "attrs")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createElement")
(PUNCT "(")
(ID "name")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "buildDocument")
(PUNCT "(")
(KEYWORD None)
(PUNCT ",")
(ID "name")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD for)
(ID "aname")
(PUNCT ",")
(ID "value")
(KEYWORD in)
(ID "attrs")
(PUNCT ".")
(ID "items")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "attr")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createAttribute")
(PUNCT "(")
(ID "aname")
(PUNCT ")")
(NEWLINE)
(ID "attr")
(PUNCT ".")
(ID "value")
(PUNCT "=")
(ID "value")
(NEWLINE)
(ID "node")
(PUNCT ".")
(ID "setAttributeNode")
(PUNCT "(")
(ID "attr")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "START_ELEMENT")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "push")
(PUNCT "(")
(ID "node")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "endElement")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "END_ELEMENT")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "pop")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "comment")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "s")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createComment")
(PUNCT "(")
(ID "s")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "COMMENT")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "event")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "COMMENT")
(PUNCT ",")
(ID "s")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pending_events")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "event")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "processingInstruction")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "target")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createProcessingInstruction")
(PUNCT "(")
(ID "target")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "PROCESSING_INSTRUCTION")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "event")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "PROCESSING_INSTRUCTION")
(PUNCT ",")
(ID "target")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pending_events")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "event")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "ignorableWhitespace")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "chars")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createTextNode")
(PUNCT "(")
(ID "chars")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "IGNORABLE_WHITESPACE")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "characters")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "chars")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createTextNode")
(PUNCT "(")
(ID "chars")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "CHARACTERS")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "startDocument")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "documentFactory")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD import)
(ID "xml")
(PUNCT ".")
(ID "dom")
(PUNCT ".")
(ID "minidom")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "documentFactory")
(PUNCT "=")
(ID "xml")
(PUNCT ".")
(ID "dom")
(PUNCT ".")
(ID "minidom")
(PUNCT ".")
(ID "Document")
(PUNCT ".")
(ID "implementation")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "buildDocument")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "uri")
(PUNCT ",")
(ID "tagname")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "documentFactory")
(PUNCT ".")
(ID "createDocument")
(PUNCT "(")
(ID "uri")
(PUNCT ",")
(ID "tagname")
(PUNCT ",")
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT "=")
(ID "node")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "START_DOCUMENT")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "push")
(PUNCT "(")
(ID "node")
(PUNCT ")")
(NEWLINE)
(KEYWORD for)
(ID "e")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "pending_events")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "e")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "==")
(ID "PROCESSING_INSTRUCTION")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_")
(PUNCT ",")
(ID "target")
(PUNCT ",")
(ID "data")
(PUNCT "=")
(ID "e")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(ID "n")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createProcessingInstruction")
(PUNCT "(")
(ID "target")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(NEWLINE)
(ID "e")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "=")
(PUNCT "(")
(ID "PROCESSING_INSTRUCTION")
(PUNCT ",")
(ID "n")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "e")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "==")
(ID "COMMENT")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "n")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ".")
(ID "createComment")
(PUNCT "(")
(ID "e")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT ")")
(NEWLINE)
(ID "e")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "=")
(PUNCT "(")
(ID "COMMENT")
(PUNCT ",")
(ID "n")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "AssertionError")
(PUNCT "(")
(LIT "Unknown pending event ")
(PUNCT ",")
(ID "e")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(ID "e")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "e")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "pending_events")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(KEYWORD return)
(ID "node")
(PUNCT ".")
(ID "firstChild")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "endDocument")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(PUNCT "(")
(ID "END_DOCUMENT")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT ")")
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pop")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "clear")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "clear(): Explicitly release parsing structures")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "document")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "ErrorHandler")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "warning")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "exception")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "print")
(PUNCT "(")
(ID "exception")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "error")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "exception")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "exception")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "fatalError")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "exception")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "exception")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "DOMEventStream")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "stream")
(PUNCT ",")
(ID "parser")
(PUNCT ",")
(ID "bufsize")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "stream")
(PUNCT "=")
(ID "stream")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT "=")
(ID "parser")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "bufsize")
(PUNCT "=")
(ID "bufsize")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "hasattr")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT ",")
(LIT "feed")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "getEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_slurp")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "reset")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "reset")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT "=")
(ID "PullDOM")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT ".")
(ID "setFeature")
(PUNCT "(")
(ID "xml")
(PUNCT ".")
(ID "sax")
(PUNCT ".")
(ID "handler")
(PUNCT ".")
(ID "feature_namespaces")
(PUNCT ",")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT ".")
(ID "setContentHandler")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "__getitem__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "pos")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "rc")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "getEvent")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "rc")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "rc")
(NEWLINE)
(DEDENT)
(KEYWORD raise)
(ID "IndexError")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "__next__")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "rc")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "getEvent")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "rc")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "rc")
(NEWLINE)
(DEDENT)
(KEYWORD raise)
(ID "StopIteration")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "__iter__")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "expandNode")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "node")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "event")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "getEvent")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "parents")
(PUNCT "=")
(PUNCT "[")
(ID "node")
(PUNCT "]")
(NEWLINE)
(KEYWORD while)
(ID "event")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "token")
(PUNCT ",")
(ID "cur_node")
(PUNCT "=")
(ID "event")
(NEWLINE)
(KEYWORD if)
(ID "cur_node")
(KEYWORD is)
(ID "node")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "token")
(PUNCT "!=")
(ID "END_ELEMENT")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "parents")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(PUNCT ".")
(ID "appendChild")
(PUNCT "(")
(ID "cur_node")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "token")
(PUNCT "==")
(ID "START_ELEMENT")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "parents")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "cur_node")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "token")
(PUNCT "==")
(ID "END_ELEMENT")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD del)
(ID "parents")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "event")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "getEvent")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "getEvent")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(NEWLINE)
(DEDENT)
(KEYWORD while)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "buf")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "stream")
(PUNCT ".")
(ID "read")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "bufsize")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "buf")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT ".")
(ID "close")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(KEYWORD None)
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT ".")
(ID "feed")
(PUNCT "(")
(ID "buf")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "rc")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(KEYWORD return)
(ID "rc")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_slurp")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT " Fallback replacement for getEvent() using the\n            standard SAX2 interface, which means we slurp the\n            SAX events into memory (no performance gain, but\n            we are compatible to all SAX parsers).\n        ")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT ".")
(ID "parse")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "stream")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "getEvent")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_emit")
(NEWLINE)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "_emit")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_emit")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT " Fallback replacement for getEvent() that emits\n            the events that _slurp() read previously.\n        ")
(NEWLINE)
(ID "rc")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "firstEvent")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(KEYWORD return)
(ID "rc")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "clear")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "clear(): Explicitly release parsing objects")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(PUNCT ".")
(ID "clear")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD del)
(ID "self")
(PUNCT ".")
(ID "pulldom")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "parser")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "stream")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "SAX2DOM")
(PUNCT "(")
(ID "PullDOM")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "startElementNS")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ",")
(ID "tagName")
(PUNCT ",")
(ID "attrs")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "PullDOM")
(PUNCT ".")
(ID "startElementNS")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ",")
(ID "tagName")
(PUNCT ",")
(ID "attrs")
(PUNCT ")")
(NEWLINE)
(ID "curNode")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 2)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT ".")
(ID "appendChild")
(PUNCT "(")
(ID "curNode")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "startElement")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ",")
(ID "attrs")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "PullDOM")
(PUNCT ".")
(ID "startElement")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ",")
(ID "attrs")
(PUNCT ")")
(NEWLINE)
(ID "curNode")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 2)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT ".")
(ID "appendChild")
(PUNCT "(")
(ID "curNode")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "processingInstruction")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "target")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "PullDOM")
(PUNCT ".")
(ID "processingInstruction")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "target")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(NEWLINE)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT ".")
(ID "appendChild")
(PUNCT "(")
(ID "node")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "ignorableWhitespace")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "chars")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "PullDOM")
(PUNCT ".")
(ID "ignorableWhitespace")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "chars")
(PUNCT ")")
(NEWLINE)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT ".")
(ID "appendChild")
(PUNCT "(")
(ID "node")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "characters")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "chars")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "PullDOM")
(PUNCT ".")
(ID "characters")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "chars")
(PUNCT ")")
(NEWLINE)
(ID "node")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "lastEvent")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "elementStack")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(ID "parentNode")
(PUNCT ".")
(ID "appendChild")
(PUNCT "(")
(ID "node")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "default_bufsize")
(PUNCT "=")
(PUNCT "(")
(LIT 2)
(PUNCT "**")
(LIT 14)
(PUNCT ")")
(PUNCT "-")
(LIT 20)
(NEWLINE)
(KEYWORD def)
(ID "parse")
(PUNCT "(")
(ID "stream_or_string")
(PUNCT ",")
(ID "parser")
(PUNCT "=")
(KEYWORD None)
(PUNCT ",")
(ID "bufsize")
(PUNCT "=")
(KEYWORD None)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "bufsize")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "bufsize")
(PUNCT "=")
(ID "default_bufsize")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "isinstance")
(PUNCT "(")
(ID "stream_or_string")
(PUNCT ",")
(ID "str")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "stream")
(PUNCT "=")
(ID "open")
(PUNCT "(")
(ID "stream_or_string")
(PUNCT ",")
(LIT "rb")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "stream")
(PUNCT "=")
(ID "stream_or_string")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(KEYWORD not)
(ID "parser")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "parser")
(PUNCT "=")
(ID "xml")
(PUNCT ".")
(ID "sax")
(PUNCT ".")
(ID "make_parser")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "DOMEventStream")
(PUNCT "(")
(ID "stream")
(PUNCT ",")
(ID "parser")
(PUNCT ",")
(ID "bufsize")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "parseString")
(PUNCT "(")
(ID "string")
(PUNCT ",")
(ID "parser")
(PUNCT "=")
(KEYWORD None)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD from)
(ID "io")
(KEYWORD import)
(ID "StringIO")
(NEWLINE)
(ID "bufsize")
(PUNCT "=")
(ID "len")
(PUNCT "(")
(ID "string")
(PUNCT ")")
(NEWLINE)
(ID "buf")
(PUNCT "=")
(ID "StringIO")
(PUNCT "(")
(ID "string")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "parser")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "parser")
(PUNCT "=")
(ID "xml")
(PUNCT ".")
(ID "sax")
(PUNCT ".")
(ID "make_parser")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "DOMEventStream")
(PUNCT "(")
(ID "buf")
(PUNCT ",")
(ID "parser")
(PUNCT ",")
(ID "bufsize")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ENDMARKER)
