(LIT "Class representing audio/* type MIME documents.")
(NEWLINE)
(ID "__all__")
(PUNCT "=")
(PUNCT "[")
(LIT "MIMEAudio")
(PUNCT "]")
(NEWLINE)
(KEYWORD import)
(ID "sndhdr")
(NEWLINE)
(KEYWORD from)
(ID "io")
(KEYWORD import)
(ID "BytesIO")
(NEWLINE)
(KEYWORD from)
(ID "email")
(KEYWORD import)
(ID "encoders")
(NEWLINE)
(KEYWORD from)
(ID "email")
(PUNCT ".")
(ID "mime")
(PUNCT ".")
(ID "nonmultipart")
(KEYWORD import)
(ID "MIMENonMultipart")
(NEWLINE)
(ID "_sndhdr_MIMEmap")
(PUNCT "=")
(PUNCT "{")
(LIT "au")
(PUNCT ":")
(LIT "basic")
(PUNCT ",")
(LIT "wav")
(PUNCT ":")
(LIT "x-wav")
(PUNCT ",")
(LIT "aiff")
(PUNCT ":")
(LIT "x-aiff")
(PUNCT ",")
(LIT "aifc")
(PUNCT ":")
(LIT "x-aiff")
(PUNCT ",")
(PUNCT "}")
(NEWLINE)
(KEYWORD def)
(ID "_whatsnd")
(PUNCT "(")
(ID "data")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Try to identify a sound file type.\n\n    sndhdr.what() has a pretty cruddy interface, unfortunately.  This is why\n    we re-do it here.  It would be easier to reverse engineer the Unix 'file'\n    command and use the standard 'magic' file, as shipped with a modern Unix.\n    ")
(NEWLINE)
(ID "hdr")
(PUNCT "=")
(ID "data")
(PUNCT "[")
(PUNCT ":")
(LIT 512)
(PUNCT "]")
(NEWLINE)
(ID "fakefile")
(PUNCT "=")
(ID "BytesIO")
(PUNCT "(")
(ID "hdr")
(PUNCT ")")
(NEWLINE)
(KEYWORD for)
(ID "testfn")
(KEYWORD in)
(ID "sndhdr")
(PUNCT ".")
(ID "tests")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "res")
(PUNCT "=")
(ID "testfn")
(PUNCT "(")
(ID "hdr")
(PUNCT ",")
(ID "fakefile")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "res")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "_sndhdr_MIMEmap")
(PUNCT ".")
(ID "get")
(PUNCT "(")
(ID "res")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD return)
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD class)
(ID "MIMEAudio")
(PUNCT "(")
(ID "MIMENonMultipart")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Class for generating audio/* MIME documents.")
(NEWLINE)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "_audiodata")
(PUNCT ",")
(ID "_subtype")
(PUNCT "=")
(KEYWORD None)
(PUNCT ",")
(ID "_encoder")
(PUNCT "=")
(ID "encoders")
(PUNCT ".")
(ID "encode_base64")
(PUNCT ",")
(PUNCT "**")
(ID "_params")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Create an audio/* type MIME document.\n\n        _audiodata is a string containing the raw audio data.  If this data\n        can be decoded by the standard Python `sndhdr' module, then the\n        subtype will be automatically included in the Content-Type header.\n        Otherwise, you can specify  the specific audio subtype via the\n        _subtype parameter.  If _subtype is not given, and no subtype can be\n        guessed, a TypeError is raised.\n\n        _encoder is a function which will perform the actual encoding for\n        transport of the image data.  It takes one argument, which is this\n        Image instance.  It should use get_payload() and set_payload() to\n        change the payload to the encoded form.  It should also add any\n        Content-Transfer-Encoding or other headers to the message as\n        necessary.  The default encoding is Base64.\n\n        Any additional keyword arguments are passed to the base class\n        constructor, which turns them into parameters on the Content-Type\n        header.\n        ")
(NEWLINE)
(KEYWORD if)
(ID "_subtype")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_subtype")
(PUNCT "=")
(ID "_whatsnd")
(PUNCT "(")
(ID "_audiodata")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "_subtype")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "TypeError")
(PUNCT "(")
(LIT "Could not find audio MIME subtype")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "MIMENonMultipart")
(PUNCT ".")
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(LIT "audio")
(PUNCT ",")
(ID "_subtype")
(PUNCT ",")
(PUNCT "**")
(ID "_params")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "set_payload")
(PUNCT "(")
(ID "_audiodata")
(PUNCT ")")
(NEWLINE)
(ID "_encoder")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ENDMARKER)
