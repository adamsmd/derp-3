(LIT "Base64 content transfer encoding per RFCs 2045-2047.\n\nThis module handles the content transfer encoding method defined in RFC 2045\nto encode arbitrary 8-bit data using the three 8-bit bytes in four 7-bit\ncharacters encoding known as Base64.\n\nIt is used in the MIME standards for email to attach images, audio, and text\nusing some 8-bit character sets to messages.\n\nThis module provides an interface to encode and decode both headers and bodies\nwith Base64 encoding.\n\nRFC 2045 defines a method for including character set information in an\n`encoded-word' in a header.  This method is commonly used for 8-bit real names\nin To:, From:, Cc:, etc. fields, as well as Subject: lines.\n\nThis module does not do the line wrapping or end-of-line character conversion\nnecessary for proper internationalized headers; it only does dumb encoding and\ndecoding.  To deal with the various line wrapping issues, use the email.header\nmodule.\n")
(NEWLINE)
(ID "__all__")
(PUNCT "=")
(PUNCT "[")
(LIT "body_decode")
(PUNCT ",")
(LIT "body_encode")
(PUNCT ",")
(LIT "decode")
(PUNCT ",")
(LIT "decodestring")
(PUNCT ",")
(LIT "header_encode")
(PUNCT ",")
(LIT "header_length")
(PUNCT ",")
(PUNCT "]")
(NEWLINE)
(KEYWORD from)
(ID "base64")
(KEYWORD import)
(ID "b64encode")
(NEWLINE)
(KEYWORD from)
(ID "binascii")
(KEYWORD import)
(ID "b2a_base64")
(PUNCT ",")
(ID "a2b_base64")
(NEWLINE)
(ID "CRLF")
(PUNCT "=")
(LIT "\r\n")
(NEWLINE)
(ID "NL")
(PUNCT "=")
(LIT "\n")
(NEWLINE)
(ID "EMPTYSTRING")
(PUNCT "=")
(LIT "")
(NEWLINE)
(ID "MISC_LEN")
(PUNCT "=")
(LIT 7)
(NEWLINE)
(KEYWORD def)
(ID "header_length")
(PUNCT "(")
(ID "bytearray")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Return the length of s when it is encoded with base64.")
(NEWLINE)
(ID "groups_of_3")
(PUNCT ",")
(ID "leftover")
(PUNCT "=")
(ID "divmod")
(PUNCT "(")
(ID "len")
(PUNCT "(")
(ID "bytearray")
(PUNCT ")")
(PUNCT ",")
(LIT 3)
(PUNCT ")")
(NEWLINE)
(ID "n")
(PUNCT "=")
(ID "groups_of_3")
(PUNCT "*")
(LIT 4)
(NEWLINE)
(KEYWORD if)
(ID "leftover")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "n")
(PUNCT "+=")
(LIT 4)
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "n")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "header_encode")
(PUNCT "(")
(ID "header_bytes")
(PUNCT ",")
(ID "charset")
(PUNCT "=")
(LIT "iso-8859-1")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Encode a single header line with Base64 encoding in a given charset.\n\n    charset names the character set to use to encode the header.  It defaults\n    to iso-8859-1.  Base64 encoding is defined in RFC 2045.\n    ")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "header_bytes")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(LIT "")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "isinstance")
(PUNCT "(")
(ID "header_bytes")
(PUNCT ",")
(ID "str")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "header_bytes")
(PUNCT "=")
(ID "header_bytes")
(PUNCT ".")
(ID "encode")
(PUNCT "(")
(ID "charset")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "encoded")
(PUNCT "=")
(ID "b64encode")
(PUNCT "(")
(ID "header_bytes")
(PUNCT ")")
(PUNCT ".")
(ID "decode")
(PUNCT "(")
(LIT "ascii")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(LIT "=?%s?b?%s?=")
(PUNCT "%")
(PUNCT "(")
(ID "charset")
(PUNCT ",")
(ID "encoded")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "body_encode")
(PUNCT "(")
(ID "s")
(PUNCT ",")
(ID "maxlinelen")
(PUNCT "=")
(LIT 76)
(PUNCT ",")
(ID "eol")
(PUNCT "=")
(ID "NL")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Encode a string with base64.\n\n    Each line will be wrapped at, at most, maxlinelen characters (defaults to\n    76 characters).\n\n    Each line of encoded text will end with eol, which defaults to \"\\n\".  Set\n    this to \"\\r\\n\" if you will be using the result of this function directly\n    in an email.\n    ")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "s")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(ID "encvec")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(ID "max_unencoded")
(PUNCT "=")
(ID "maxlinelen")
(PUNCT "*")
(LIT 3)
(PUNCT "//")
(LIT 4)
(NEWLINE)
(KEYWORD for)
(ID "i")
(KEYWORD in)
(ID "range")
(PUNCT "(")
(LIT 0)
(PUNCT ",")
(ID "len")
(PUNCT "(")
(ID "s")
(PUNCT ")")
(PUNCT ",")
(ID "max_unencoded")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "enc")
(PUNCT "=")
(ID "b2a_base64")
(PUNCT "(")
(ID "s")
(PUNCT "[")
(ID "i")
(PUNCT ":")
(ID "i")
(PUNCT "+")
(ID "max_unencoded")
(PUNCT "]")
(PUNCT ")")
(PUNCT ".")
(ID "decode")
(PUNCT "(")
(LIT "ascii")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "enc")
(PUNCT ".")
(ID "endswith")
(PUNCT "(")
(ID "NL")
(PUNCT ")")
(KEYWORD and)
(ID "eol")
(PUNCT "!=")
(ID "NL")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "enc")
(PUNCT "=")
(ID "enc")
(PUNCT "[")
(PUNCT ":")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(PUNCT "+")
(ID "eol")
(NEWLINE)
(DEDENT)
(ID "encvec")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "enc")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "EMPTYSTRING")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "encvec")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "decode")
(PUNCT "(")
(ID "string")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Decode a raw base64 string, returning a bytes object.\n\n    This function does not parse a full MIME header value encoded with\n    base64 (like =?iso-8895-1?b?bmloISBuaWgh?=) -- please use the high\n    level email.header class for that functionality.\n    ")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "string")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "bytes")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "isinstance")
(PUNCT "(")
(ID "string")
(PUNCT ",")
(ID "str")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "a2b_base64")
(PUNCT "(")
(ID "string")
(PUNCT ".")
(ID "encode")
(PUNCT "(")
(LIT "raw-unicode-escape")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "a2b_base64")
(PUNCT "(")
(ID "string")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "body_decode")
(PUNCT "=")
(ID "decode")
(NEWLINE)
(ID "decodestring")
(PUNCT "=")
(ID "decode")
(NEWLINE)
(ENDMARKER)
