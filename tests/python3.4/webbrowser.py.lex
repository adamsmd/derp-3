(LIT "Interfaces for launching and remotely controlling Web browsers.")
(NEWLINE)
(KEYWORD import)
(ID "os")
(NEWLINE)
(KEYWORD import)
(ID "shlex")
(NEWLINE)
(KEYWORD import)
(ID "shutil")
(NEWLINE)
(KEYWORD import)
(ID "sys")
(NEWLINE)
(KEYWORD import)
(ID "subprocess")
(NEWLINE)
(ID "__all__")
(PUNCT "=")
(PUNCT "[")
(LIT "Error")
(PUNCT ",")
(LIT "open")
(PUNCT ",")
(LIT "open_new")
(PUNCT ",")
(LIT "open_new_tab")
(PUNCT ",")
(LIT "get")
(PUNCT ",")
(LIT "register")
(PUNCT "]")
(NEWLINE)
(KEYWORD class)
(ID "Error")
(PUNCT "(")
(ID "Exception")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD pass)
(NEWLINE)
(DEDENT)
(ID "_browsers")
(PUNCT "=")
(PUNCT "{")
(PUNCT "}")
(NEWLINE)
(ID "_tryorder")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(KEYWORD def)
(ID "register")
(PUNCT "(")
(ID "name")
(PUNCT ",")
(ID "klass")
(PUNCT ",")
(ID "instance")
(PUNCT "=")
(KEYWORD None)
(PUNCT ",")
(ID "update_tryorder")
(PUNCT "=")
(LIT 1)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Register a browser connector and, optionally, connection.")
(NEWLINE)
(ID "_browsers")
(PUNCT "[")
(ID "name")
(PUNCT ".")
(ID "lower")
(PUNCT "(")
(PUNCT ")")
(PUNCT "]")
(PUNCT "=")
(PUNCT "[")
(ID "klass")
(PUNCT ",")
(ID "instance")
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "update_tryorder")
(PUNCT ">")
(LIT 0)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_tryorder")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "name")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "update_tryorder")
(PUNCT "<")
(LIT 0)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_tryorder")
(PUNCT ".")
(ID "insert")
(PUNCT "(")
(LIT 0)
(PUNCT ",")
(ID "name")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "get")
(PUNCT "(")
(ID "using")
(PUNCT "=")
(KEYWORD None)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Return a browser launcher instance appropriate for the environment.")
(NEWLINE)
(KEYWORD if)
(ID "using")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "alternatives")
(PUNCT "=")
(PUNCT "[")
(ID "using")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "alternatives")
(PUNCT "=")
(ID "_tryorder")
(NEWLINE)
(DEDENT)
(KEYWORD for)
(ID "browser")
(KEYWORD in)
(ID "alternatives")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(LIT "%s")
(KEYWORD in)
(ID "browser")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "browser")
(PUNCT "=")
(ID "shlex")
(PUNCT ".")
(ID "split")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "browser")
(PUNCT "[")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(PUNCT "==")
(LIT "&")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "BackgroundBrowser")
(PUNCT "(")
(ID "browser")
(PUNCT "[")
(PUNCT ":")
(PUNCT "-")
(LIT 1)
(PUNCT "]")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "GenericBrowser")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "command")
(PUNCT "=")
(ID "_browsers")
(PUNCT "[")
(ID "browser")
(PUNCT ".")
(ID "lower")
(PUNCT "(")
(PUNCT ")")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "KeyError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "command")
(PUNCT "=")
(ID "_synthesize")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "command")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "command")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "command")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "command")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD raise)
(ID "Error")
(PUNCT "(")
(LIT "could not locate runnable browser")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD for)
(ID "name")
(KEYWORD in)
(ID "_tryorder")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "browser")
(PUNCT "=")
(ID "get")
(PUNCT "(")
(ID "name")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "browser")
(PUNCT ".")
(ID "open")
(PUNCT "(")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT ",")
(ID "autoraise")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD True)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open_new")
(PUNCT "(")
(ID "url")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "open")
(PUNCT "(")
(ID "url")
(PUNCT ",")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open_new_tab")
(PUNCT "(")
(ID "url")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "open")
(PUNCT "(")
(ID "url")
(PUNCT ",")
(LIT 2)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_synthesize")
(PUNCT "(")
(ID "browser")
(PUNCT ",")
(ID "update_tryorder")
(PUNCT "=")
(LIT 1)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Attempt to synthesize a controller base on existing controllers.\n\n    This is useful to create a controller when a user specifies a path to\n    an entry in the BROWSER environment variable -- we can copy a general\n    controller to operate using a specific installation of the desired\n    browser in this way.\n\n    If we can't create a controller in this way, or if there is no\n    executable for the requested browser, return [None, None].\n\n    ")
(NEWLINE)
(ID "cmd")
(PUNCT "=")
(ID "browser")
(PUNCT ".")
(ID "split")
(PUNCT "(")
(PUNCT ")")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(ID "cmd")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(PUNCT "[")
(KEYWORD None)
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "name")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "basename")
(PUNCT "(")
(ID "cmd")
(PUNCT ")")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "command")
(PUNCT "=")
(ID "_browsers")
(PUNCT "[")
(ID "name")
(PUNCT ".")
(ID "lower")
(PUNCT "(")
(PUNCT ")")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "KeyError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(PUNCT "[")
(KEYWORD None)
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "controller")
(PUNCT "=")
(ID "command")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "controller")
(KEYWORD and)
(ID "name")
(PUNCT ".")
(ID "lower")
(PUNCT "(")
(PUNCT ")")
(PUNCT "==")
(ID "controller")
(PUNCT ".")
(ID "basename")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD import)
(ID "copy")
(NEWLINE)
(ID "controller")
(PUNCT "=")
(ID "copy")
(PUNCT ".")
(ID "copy")
(PUNCT "(")
(ID "controller")
(PUNCT ")")
(NEWLINE)
(ID "controller")
(PUNCT ".")
(ID "name")
(PUNCT "=")
(ID "browser")
(NEWLINE)
(ID "controller")
(PUNCT ".")
(ID "basename")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "basename")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(NEWLINE)
(ID "register")
(PUNCT "(")
(ID "browser")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "controller")
(PUNCT ",")
(ID "update_tryorder")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(PUNCT "[")
(KEYWORD None)
(PUNCT ",")
(ID "controller")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(PUNCT "[")
(KEYWORD None)
(PUNCT ",")
(KEYWORD None)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD class)
(ID "BaseBrowser")
(PUNCT "(")
(ID "object")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Parent class for all browsers. Do not use directly.")
(NEWLINE)
(ID "args")
(PUNCT "=")
(PUNCT "[")
(LIT "%s")
(PUNCT "]")
(NEWLINE)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT "=")
(LIT "")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "=")
(ID "name")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "basename")
(PUNCT "=")
(ID "name")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NotImplementedError")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open_new")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "open")
(PUNCT "(")
(ID "url")
(PUNCT ",")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open_new_tab")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "open")
(PUNCT "(")
(ID "url")
(PUNCT ",")
(LIT 2)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "GenericBrowser")
(PUNCT "(")
(ID "BaseBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Class for all browsers started with a command\n       and without remote functionality.")
(NEWLINE)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "isinstance")
(PUNCT "(")
(ID "name")
(PUNCT ",")
(ID "str")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "=")
(ID "name")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "args")
(PUNCT "=")
(PUNCT "[")
(LIT "%s")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "=")
(ID "name")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "args")
(PUNCT "=")
(ID "name")
(PUNCT "[")
(LIT 1)
(PUNCT ":")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "basename")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "basename")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "cmdline")
(PUNCT "=")
(PUNCT "[")
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "]")
(PUNCT "+")
(PUNCT "[")
(ID "arg")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "%s")
(PUNCT ",")
(ID "url")
(PUNCT ")")
(KEYWORD for)
(ID "arg")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "args")
(PUNCT "]")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "sys")
(PUNCT ".")
(ID "platform")
(PUNCT "[")
(PUNCT ":")
(LIT 3)
(PUNCT "]")
(PUNCT "==")
(LIT "win")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(ID "cmdline")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(ID "cmdline")
(PUNCT ",")
(ID "close_fds")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(KEYWORD not)
(ID "p")
(PUNCT ".")
(ID "wait")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "BackgroundBrowser")
(PUNCT "(")
(ID "GenericBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Class for all browsers which are to be started in the\n       background.")
(NEWLINE)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "cmdline")
(PUNCT "=")
(PUNCT "[")
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "]")
(PUNCT "+")
(PUNCT "[")
(ID "arg")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "%s")
(PUNCT ",")
(ID "url")
(PUNCT ")")
(KEYWORD for)
(ID "arg")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "args")
(PUNCT "]")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "sys")
(PUNCT ".")
(ID "platform")
(PUNCT "[")
(PUNCT ":")
(LIT 3)
(PUNCT "]")
(PUNCT "==")
(LIT "win")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(ID "cmdline")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(ID "cmdline")
(PUNCT ",")
(ID "close_fds")
(PUNCT "=")
(KEYWORD True)
(PUNCT ",")
(ID "start_new_session")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(PUNCT "(")
(ID "p")
(PUNCT ".")
(ID "poll")
(PUNCT "(")
(PUNCT ")")
(KEYWORD is)
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "UnixBrowser")
(PUNCT "(")
(ID "BaseBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Parent class for all Unix browsers with remote functionality.")
(NEWLINE)
(ID "raise_opts")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "background")
(PUNCT "=")
(KEYWORD False)
(NEWLINE)
(ID "redirect_stdout")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(ID "remote_args")
(PUNCT "=")
(PUNCT "[")
(LIT "%action")
(PUNCT ",")
(LIT "%s")
(PUNCT "]")
(NEWLINE)
(ID "remote_action")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "remote_action_newwin")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "remote_action_newtab")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(KEYWORD def)
(ID "_invoke")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "args")
(PUNCT ",")
(ID "remote")
(PUNCT ",")
(ID "autoraise")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "raise_opt")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "remote")
(KEYWORD and)
(ID "self")
(PUNCT ".")
(ID "raise_opts")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "autoraise")
(PUNCT "=")
(ID "int")
(PUNCT "(")
(ID "autoraise")
(PUNCT ")")
(NEWLINE)
(ID "opt")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "raise_opts")
(PUNCT "[")
(ID "autoraise")
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "opt")
(PUNCT ":")
(ID "raise_opt")
(PUNCT "=")
(PUNCT "[")
(ID "opt")
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "cmdline")
(PUNCT "=")
(PUNCT "[")
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "]")
(PUNCT "+")
(ID "raise_opt")
(PUNCT "+")
(ID "args")
(NEWLINE)
(KEYWORD if)
(ID "remote")
(KEYWORD or)
(ID "self")
(PUNCT ".")
(ID "background")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "inout")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "DEVNULL")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "inout")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(ID "cmdline")
(PUNCT ",")
(ID "close_fds")
(PUNCT "=")
(KEYWORD True)
(PUNCT ",")
(ID "stdin")
(PUNCT "=")
(ID "inout")
(PUNCT ",")
(ID "stdout")
(PUNCT "=")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "redirect_stdout")
(KEYWORD and)
(ID "inout")
(KEYWORD or)
(KEYWORD None)
(PUNCT ")")
(PUNCT ",")
(ID "stderr")
(PUNCT "=")
(ID "inout")
(PUNCT ",")
(ID "start_new_session")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "remote")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "rc")
(PUNCT "=")
(ID "p")
(PUNCT ".")
(ID "wait")
(PUNCT "(")
(LIT 5)
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(KEYWORD not)
(ID "rc")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "subprocess")
(PUNCT ".")
(ID "TimeoutExpired")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD True)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD elif)
(ID "self")
(PUNCT ".")
(ID "background")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "p")
(PUNCT ".")
(ID "poll")
(PUNCT "(")
(PUNCT ")")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD True)
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD not)
(ID "p")
(PUNCT ".")
(ID "wait")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "new")
(PUNCT "==")
(LIT 0)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "action")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "remote_action")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "new")
(PUNCT "==")
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "action")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "remote_action_newwin")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "new")
(PUNCT "==")
(LIT 2)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "remote_action_newtab")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "action")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "remote_action_newwin")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "action")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "remote_action_newtab")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "Error")
(PUNCT "(")
(LIT "Bad 'new' parameter to open(); ")
(PUNCT "+")
(LIT "expected 0, 1, or 2, got %s")
(PUNCT "%")
(ID "new")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "args")
(PUNCT "=")
(PUNCT "[")
(ID "arg")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "%s")
(PUNCT ",")
(ID "url")
(PUNCT ")")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "%action")
(PUNCT ",")
(ID "action")
(PUNCT ")")
(KEYWORD for)
(ID "arg")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "remote_args")
(PUNCT "]")
(NEWLINE)
(ID "args")
(PUNCT "=")
(PUNCT "[")
(ID "arg")
(KEYWORD for)
(ID "arg")
(KEYWORD in)
(ID "args")
(KEYWORD if)
(ID "arg")
(PUNCT "]")
(NEWLINE)
(ID "success")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_invoke")
(PUNCT "(")
(ID "args")
(PUNCT ",")
(KEYWORD True)
(PUNCT ",")
(ID "autoraise")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "success")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "args")
(PUNCT "=")
(PUNCT "[")
(ID "arg")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "%s")
(PUNCT ",")
(ID "url")
(PUNCT ")")
(KEYWORD for)
(ID "arg")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "args")
(PUNCT "]")
(NEWLINE)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "_invoke")
(PUNCT "(")
(ID "args")
(PUNCT ",")
(KEYWORD False)
(PUNCT ",")
(KEYWORD False)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD True)
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "Mozilla")
(PUNCT "(")
(ID "UnixBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Launcher class for Mozilla/Netscape browsers.")
(NEWLINE)
(ID "raise_opts")
(PUNCT "=")
(PUNCT "[")
(LIT "-noraise")
(PUNCT ",")
(LIT "-raise")
(PUNCT "]")
(NEWLINE)
(ID "remote_args")
(PUNCT "=")
(PUNCT "[")
(LIT "-remote")
(PUNCT ",")
(LIT "openURL(%s%action)")
(PUNCT "]")
(NEWLINE)
(ID "remote_action")
(PUNCT "=")
(LIT "")
(NEWLINE)
(ID "remote_action_newwin")
(PUNCT "=")
(LIT ",new-window")
(NEWLINE)
(ID "remote_action_newtab")
(PUNCT "=")
(LIT ",new-tab")
(NEWLINE)
(ID "background")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(DEDENT)
(ID "Netscape")
(PUNCT "=")
(ID "Mozilla")
(NEWLINE)
(KEYWORD class)
(ID "Galeon")
(PUNCT "(")
(ID "UnixBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Launcher class for Galeon/Epiphany browsers.")
(NEWLINE)
(ID "raise_opts")
(PUNCT "=")
(PUNCT "[")
(LIT "-noraise")
(PUNCT ",")
(LIT "")
(PUNCT "]")
(NEWLINE)
(ID "remote_args")
(PUNCT "=")
(PUNCT "[")
(LIT "%action")
(PUNCT ",")
(LIT "%s")
(PUNCT "]")
(NEWLINE)
(ID "remote_action")
(PUNCT "=")
(LIT "-n")
(NEWLINE)
(ID "remote_action_newwin")
(PUNCT "=")
(LIT "-w")
(NEWLINE)
(ID "background")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(DEDENT)
(KEYWORD class)
(ID "Chrome")
(PUNCT "(")
(ID "UnixBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Launcher class for Google Chrome browser.")
(NEWLINE)
(ID "remote_args")
(PUNCT "=")
(PUNCT "[")
(LIT "%action")
(PUNCT ",")
(LIT "%s")
(PUNCT "]")
(NEWLINE)
(ID "remote_action")
(PUNCT "=")
(LIT "")
(NEWLINE)
(ID "remote_action_newwin")
(PUNCT "=")
(LIT "--new-window")
(NEWLINE)
(ID "remote_action_newtab")
(PUNCT "=")
(LIT "")
(NEWLINE)
(ID "background")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(DEDENT)
(ID "Chromium")
(PUNCT "=")
(ID "Chrome")
(NEWLINE)
(KEYWORD class)
(ID "Opera")
(PUNCT "(")
(ID "UnixBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Launcher class for Opera browser.")
(NEWLINE)
(ID "raise_opts")
(PUNCT "=")
(PUNCT "[")
(LIT "-noraise")
(PUNCT ",")
(LIT "")
(PUNCT "]")
(NEWLINE)
(ID "remote_args")
(PUNCT "=")
(PUNCT "[")
(LIT "-remote")
(PUNCT ",")
(LIT "openURL(%s%action)")
(PUNCT "]")
(NEWLINE)
(ID "remote_action")
(PUNCT "=")
(LIT "")
(NEWLINE)
(ID "remote_action_newwin")
(PUNCT "=")
(LIT ",new-window")
(NEWLINE)
(ID "remote_action_newtab")
(PUNCT "=")
(LIT ",new-page")
(NEWLINE)
(ID "background")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(DEDENT)
(KEYWORD class)
(ID "Elinks")
(PUNCT "(")
(ID "UnixBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Launcher class for Elinks browsers.")
(NEWLINE)
(ID "remote_args")
(PUNCT "=")
(PUNCT "[")
(LIT "-remote")
(PUNCT ",")
(LIT "openURL(%s%action)")
(PUNCT "]")
(NEWLINE)
(ID "remote_action")
(PUNCT "=")
(LIT "")
(NEWLINE)
(ID "remote_action_newwin")
(PUNCT "=")
(LIT ",new-window")
(NEWLINE)
(ID "remote_action_newtab")
(PUNCT "=")
(LIT ",new-tab")
(NEWLINE)
(ID "background")
(PUNCT "=")
(KEYWORD False)
(NEWLINE)
(ID "redirect_stdout")
(PUNCT "=")
(KEYWORD False)
(NEWLINE)
(DEDENT)
(KEYWORD class)
(ID "Konqueror")
(PUNCT "(")
(ID "BaseBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Controller for the KDE File Manager (kfm, or Konqueror).\n\n    See the output of ``kfmclient --commands``\n    for more information on the Konqueror remote-control interface.\n    ")
(NEWLINE)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "new")
(PUNCT "==")
(LIT 2)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "action")
(PUNCT "=")
(LIT "newTab")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "action")
(PUNCT "=")
(LIT "openURL")
(NEWLINE)
(DEDENT)
(ID "devnull")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "DEVNULL")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(PUNCT "[")
(LIT "kfmclient")
(PUNCT ",")
(ID "action")
(PUNCT ",")
(ID "url")
(PUNCT "]")
(PUNCT ",")
(ID "close_fds")
(PUNCT "=")
(KEYWORD True)
(PUNCT ",")
(ID "stdin")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "stdout")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "stderr")
(PUNCT "=")
(ID "devnull")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD pass)
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT ".")
(ID "wait")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(KEYWORD True)
(NEWLINE)
(DEDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(PUNCT "[")
(LIT "konqueror")
(PUNCT ",")
(LIT "--silent")
(PUNCT ",")
(ID "url")
(PUNCT "]")
(PUNCT ",")
(ID "close_fds")
(PUNCT "=")
(KEYWORD True)
(PUNCT ",")
(ID "stdin")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "stdout")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "stderr")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "start_new_session")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD pass)
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "p")
(PUNCT ".")
(ID "poll")
(PUNCT "(")
(PUNCT ")")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD True)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "p")
(PUNCT "=")
(ID "subprocess")
(PUNCT ".")
(ID "Popen")
(PUNCT "(")
(PUNCT "[")
(LIT "kfm")
(PUNCT ",")
(LIT "-d")
(PUNCT ",")
(ID "url")
(PUNCT "]")
(PUNCT ",")
(ID "close_fds")
(PUNCT "=")
(KEYWORD True)
(PUNCT ",")
(ID "stdin")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "stdout")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "stderr")
(PUNCT "=")
(ID "devnull")
(PUNCT ",")
(ID "start_new_session")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(PUNCT "(")
(ID "p")
(PUNCT ".")
(ID "poll")
(PUNCT "(")
(PUNCT ")")
(KEYWORD is)
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "Grail")
(PUNCT "(")
(ID "BaseBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "_find_grail_rc")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD import)
(ID "glob")
(NEWLINE)
(KEYWORD import)
(ID "pwd")
(NEWLINE)
(KEYWORD import)
(ID "socket")
(NEWLINE)
(KEYWORD import)
(ID "tempfile")
(NEWLINE)
(ID "tempdir")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "tempfile")
(PUNCT ".")
(ID "gettempdir")
(PUNCT "(")
(PUNCT ")")
(PUNCT ",")
(LIT ".grail-unix")
(PUNCT ")")
(NEWLINE)
(ID "user")
(PUNCT "=")
(ID "pwd")
(PUNCT ".")
(ID "getpwuid")
(PUNCT "(")
(ID "os")
(PUNCT ".")
(ID "getuid")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(ID "filename")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "tempdir")
(PUNCT ",")
(ID "user")
(PUNCT "+")
(LIT "-*")
(PUNCT ")")
(NEWLINE)
(ID "maybes")
(PUNCT "=")
(ID "glob")
(PUNCT ".")
(ID "glob")
(PUNCT "(")
(ID "filename")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "maybes")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD None)
(NEWLINE)
(DEDENT)
(ID "s")
(PUNCT "=")
(ID "socket")
(PUNCT ".")
(ID "socket")
(PUNCT "(")
(ID "socket")
(PUNCT ".")
(ID "AF_UNIX")
(PUNCT ",")
(ID "socket")
(PUNCT ".")
(ID "SOCK_STREAM")
(PUNCT ")")
(NEWLINE)
(KEYWORD for)
(ID "fn")
(KEYWORD in)
(ID "maybes")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "s")
(PUNCT ".")
(ID "connect")
(PUNCT "(")
(ID "fn")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "os")
(PUNCT ".")
(ID "unlink")
(PUNCT "(")
(ID "fn")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD pass)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "s")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "_remote")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "action")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "s")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_find_grail_rc")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(ID "s")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(LIT 0)
(NEWLINE)
(DEDENT)
(ID "s")
(PUNCT ".")
(ID "send")
(PUNCT "(")
(ID "action")
(PUNCT ")")
(NEWLINE)
(ID "s")
(PUNCT ".")
(ID "close")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(LIT 1)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "new")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "ok")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_remote")
(PUNCT "(")
(LIT "LOADNEW ")
(PUNCT "+")
(ID "url")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "ok")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_remote")
(PUNCT "(")
(LIT "LOAD ")
(PUNCT "+")
(ID "url")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD return)
(ID "ok")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "register_X_browsers")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "xdg-open")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "xdg-open")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "BackgroundBrowser")
(PUNCT "(")
(LIT "xdg-open")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(LIT "GNOME_DESKTOP_SESSION_ID")
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "environ")
(KEYWORD and)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "gvfs-open")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "gvfs-open")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "BackgroundBrowser")
(PUNCT "(")
(LIT "gvfs-open")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(LIT "GNOME_DESKTOP_SESSION_ID")
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "environ")
(KEYWORD and)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "gnome-open")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "gnome-open")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "BackgroundBrowser")
(PUNCT "(")
(LIT "gnome-open")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(LIT "KDE_FULL_SESSION")
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "environ")
(KEYWORD and)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "kfmclient")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "kfmclient")
(PUNCT ",")
(ID "Konqueror")
(PUNCT ",")
(ID "Konqueror")
(PUNCT "(")
(LIT "kfmclient")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "x-www-browser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "x-www-browser")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "BackgroundBrowser")
(PUNCT "(")
(LIT "x-www-browser")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD for)
(ID "browser")
(KEYWORD in)
(PUNCT "(")
(LIT "mozilla-firefox")
(PUNCT ",")
(LIT "firefox")
(PUNCT ",")
(LIT "mozilla-firebird")
(PUNCT ",")
(LIT "firebird")
(PUNCT ",")
(LIT "iceweasel")
(PUNCT ",")
(LIT "iceape")
(PUNCT ",")
(LIT "seamonkey")
(PUNCT ",")
(LIT "mozilla")
(PUNCT ",")
(LIT "netscape")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(ID "browser")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "Mozilla")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "kfm")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "kfm")
(PUNCT ",")
(ID "Konqueror")
(PUNCT ",")
(ID "Konqueror")
(PUNCT "(")
(LIT "kfm")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "konqueror")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "konqueror")
(PUNCT ",")
(ID "Konqueror")
(PUNCT ",")
(ID "Konqueror")
(PUNCT "(")
(LIT "konqueror")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD for)
(ID "browser")
(KEYWORD in)
(PUNCT "(")
(LIT "galeon")
(PUNCT ",")
(LIT "epiphany")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(ID "browser")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "Galeon")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "skipstone")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "skipstone")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "BackgroundBrowser")
(PUNCT "(")
(LIT "skipstone")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD for)
(ID "browser")
(KEYWORD in)
(PUNCT "(")
(LIT "google-chrome")
(PUNCT ",")
(LIT "chrome")
(PUNCT ",")
(LIT "chromium")
(PUNCT ",")
(LIT "chromium-browser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(ID "browser")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "Chrome")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "opera")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "opera")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "Opera")
(PUNCT "(")
(LIT "opera")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "mosaic")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "mosaic")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "BackgroundBrowser")
(PUNCT "(")
(LIT "mosaic")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "grail")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "grail")
(PUNCT ",")
(ID "Grail")
(PUNCT ",")
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT ".")
(ID "get")
(PUNCT "(")
(LIT "DISPLAY")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register_X_browsers")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT ".")
(ID "get")
(PUNCT "(")
(LIT "TERM")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "www-browser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "www-browser")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "GenericBrowser")
(PUNCT "(")
(LIT "www-browser")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "links")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "links")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "GenericBrowser")
(PUNCT "(")
(LIT "links")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "elinks")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "elinks")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "Elinks")
(PUNCT "(")
(LIT "elinks")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "lynx")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "lynx")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "GenericBrowser")
(PUNCT "(")
(LIT "lynx")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(LIT "w3m")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(LIT "w3m")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "GenericBrowser")
(PUNCT "(")
(LIT "w3m")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "sys")
(PUNCT ".")
(ID "platform")
(PUNCT "[")
(PUNCT ":")
(LIT 3)
(PUNCT "]")
(PUNCT "==")
(LIT "win")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD class)
(ID "WindowsDefault")
(PUNCT "(")
(ID "BaseBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "os")
(PUNCT ".")
(ID "startfile")
(PUNCT "(")
(ID "url")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "OSError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD True)
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(ID "_tryorder")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(ID "_browsers")
(PUNCT "=")
(PUNCT "{")
(PUNCT "}")
(NEWLINE)
(ID "register")
(PUNCT "(")
(LIT "windows-default")
(PUNCT ",")
(ID "WindowsDefault")
(PUNCT ")")
(NEWLINE)
(ID "iexplore")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "path")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT ".")
(ID "get")
(PUNCT "(")
(LIT "PROGRAMFILES")
(PUNCT ",")
(LIT "C:\\Program Files")
(PUNCT ")")
(PUNCT ",")
(LIT "Internet Explorer\\IEXPLORE.EXE")
(PUNCT ")")
(NEWLINE)
(KEYWORD for)
(ID "browser")
(KEYWORD in)
(PUNCT "(")
(LIT "firefox")
(PUNCT ",")
(LIT "firebird")
(PUNCT ",")
(LIT "seamonkey")
(PUNCT ",")
(LIT "mozilla")
(PUNCT ",")
(LIT "netscape")
(PUNCT ",")
(LIT "opera")
(PUNCT ",")
(ID "iexplore")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "shutil")
(PUNCT ".")
(ID "which")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(ID "browser")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "BackgroundBrowser")
(PUNCT "(")
(ID "browser")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "sys")
(PUNCT ".")
(ID "platform")
(PUNCT "==")
(LIT "darwin")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD class)
(ID "MacOSX")
(PUNCT "(")
(ID "BaseBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Launcher class for Aqua browsers on Mac OS X\n\n        Optionally specify a browser name on instantiation.  Note that this\n        will not work for Aqua browsers if the user has moved the application\n        package after installation.\n\n        If no browser is specified, the default browser, as specified in the\n        Internet System Preferences panel, will be used.\n        ")
(NEWLINE)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "=")
(ID "name")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD assert)
(LIT "'")
(KEYWORD not)
(KEYWORD in)
(ID "url")
(NEWLINE)
(KEYWORD if)
(KEYWORD not)
(LIT ":")
(KEYWORD in)
(ID "url")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "url")
(PUNCT "=")
(LIT "file:")
(PUNCT "+")
(ID "url")
(NEWLINE)
(DEDENT)
(ID "new")
(PUNCT "=")
(ID "int")
(PUNCT "(")
(ID "bool")
(PUNCT "(")
(ID "new")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "==")
(LIT "default")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "script")
(PUNCT "=")
(LIT "open location \"%s\"")
(PUNCT "%")
(ID "url")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "\"")
(PUNCT ",")
(LIT "%22")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT "==")
(LIT "OmniWeb")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "toWindow")
(PUNCT "=")
(LIT "")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "toWindow")
(PUNCT "=")
(LIT "toWindow %d")
(PUNCT "%")
(PUNCT "(")
(ID "new")
(PUNCT "-")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "cmd")
(PUNCT "=")
(LIT "OpenURL \"%s\"")
(PUNCT "%")
(ID "url")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "\"")
(PUNCT ",")
(LIT "%22")
(PUNCT ")")
(NEWLINE)
(ID "script")
(PUNCT "=")
(LIT "tell application \"%s\"\n                                activate\n                                %s %s\n                            end tell")
(PUNCT "%")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "name")
(PUNCT ",")
(ID "cmd")
(PUNCT ",")
(ID "toWindow")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "osapipe")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "popen")
(PUNCT "(")
(LIT "osascript")
(PUNCT ",")
(LIT "w")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "osapipe")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(ID "osapipe")
(PUNCT ".")
(ID "write")
(PUNCT "(")
(ID "script")
(PUNCT ")")
(NEWLINE)
(ID "rc")
(PUNCT "=")
(ID "osapipe")
(PUNCT ".")
(ID "close")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(KEYWORD not)
(ID "rc")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "MacOSXOSAScript")
(PUNCT "(")
(ID "BaseBrowser")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "name")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_name")
(PUNCT "=")
(ID "name")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "open")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "url")
(PUNCT ",")
(ID "new")
(PUNCT "=")
(LIT 0)
(PUNCT ",")
(ID "autoraise")
(PUNCT "=")
(KEYWORD True)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_name")
(PUNCT "==")
(LIT "default")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "script")
(PUNCT "=")
(LIT "open location \"%s\"")
(PUNCT "%")
(ID "url")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "\"")
(PUNCT ",")
(LIT "%22")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "script")
(PUNCT "=")
(LIT "\n                   tell application \"%s\"\n                       activate\n                       open location \"%s\"\n                   end\n                   ")
(PUNCT "%")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_name")
(PUNCT ",")
(ID "url")
(PUNCT ".")
(ID "replace")
(PUNCT "(")
(LIT "\"")
(PUNCT ",")
(LIT "%22")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "osapipe")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "popen")
(PUNCT "(")
(LIT "osascript")
(PUNCT ",")
(LIT "w")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "osapipe")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD False)
(NEWLINE)
(DEDENT)
(ID "osapipe")
(PUNCT ".")
(ID "write")
(PUNCT "(")
(ID "script")
(PUNCT ")")
(NEWLINE)
(ID "rc")
(PUNCT "=")
(ID "osapipe")
(PUNCT ".")
(ID "close")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(KEYWORD not)
(ID "rc")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "register")
(PUNCT "(")
(LIT "safari")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "MacOSXOSAScript")
(PUNCT "(")
(LIT "safari")
(PUNCT ")")
(PUNCT ",")
(PUNCT "-")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(ID "register")
(PUNCT "(")
(LIT "firefox")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "MacOSXOSAScript")
(PUNCT "(")
(LIT "firefox")
(PUNCT ")")
(PUNCT ",")
(PUNCT "-")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(ID "register")
(PUNCT "(")
(LIT "MacOSX")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "MacOSXOSAScript")
(PUNCT "(")
(LIT "default")
(PUNCT ")")
(PUNCT ",")
(PUNCT "-")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(LIT "BROWSER")
(KEYWORD in)
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_userchoices")
(PUNCT "=")
(ID "os")
(PUNCT ".")
(ID "environ")
(PUNCT "[")
(LIT "BROWSER")
(PUNCT "]")
(PUNCT ".")
(ID "split")
(PUNCT "(")
(ID "os")
(PUNCT ".")
(ID "pathsep")
(PUNCT ")")
(NEWLINE)
(ID "_userchoices")
(PUNCT ".")
(ID "reverse")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD for)
(ID "cmdline")
(KEYWORD in)
(ID "_userchoices")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "cmdline")
(PUNCT "!=")
(LIT "")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "cmd")
(PUNCT "=")
(ID "_synthesize")
(PUNCT "(")
(ID "cmdline")
(PUNCT ",")
(PUNCT "-")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "cmd")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "register")
(PUNCT "(")
(ID "cmdline")
(PUNCT ",")
(KEYWORD None)
(PUNCT ",")
(ID "GenericBrowser")
(PUNCT "(")
(ID "cmdline")
(PUNCT ")")
(PUNCT ",")
(PUNCT "-")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(ID "cmdline")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(KEYWORD del)
(ID "cmdline")
(NEWLINE)
(KEYWORD del)
(ID "_userchoices")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "main")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD import)
(ID "getopt")
(NEWLINE)
(ID "usage")
(PUNCT "=")
(LIT "Usage: %s [-n | -t] url\n    -n: open new window\n    -t: open new tab")
(PUNCT "%")
(ID "sys")
(PUNCT ".")
(ID "argv")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "opts")
(PUNCT ",")
(ID "args")
(PUNCT "=")
(ID "getopt")
(PUNCT ".")
(ID "getopt")
(PUNCT "(")
(ID "sys")
(PUNCT ".")
(ID "argv")
(PUNCT "[")
(LIT 1)
(PUNCT ":")
(PUNCT "]")
(PUNCT ",")
(LIT "ntd")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "getopt")
(PUNCT ".")
(ID "error")
(KEYWORD as)
(ID "msg")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "print")
(PUNCT "(")
(ID "msg")
(PUNCT ",")
(ID "file")
(PUNCT "=")
(ID "sys")
(PUNCT ".")
(ID "stderr")
(PUNCT ")")
(NEWLINE)
(ID "print")
(PUNCT "(")
(ID "usage")
(PUNCT ",")
(ID "file")
(PUNCT "=")
(ID "sys")
(PUNCT ".")
(ID "stderr")
(PUNCT ")")
(NEWLINE)
(ID "sys")
(PUNCT ".")
(ID "exit")
(PUNCT "(")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "new_win")
(PUNCT "=")
(LIT 0)
(NEWLINE)
(KEYWORD for)
(ID "o")
(PUNCT ",")
(ID "a")
(KEYWORD in)
(ID "opts")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "o")
(PUNCT "==")
(LIT "-n")
(PUNCT ":")
(ID "new_win")
(PUNCT "=")
(LIT 1)
(NEWLINE)
(KEYWORD elif)
(ID "o")
(PUNCT "==")
(LIT "-t")
(PUNCT ":")
(ID "new_win")
(PUNCT "=")
(LIT 2)
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "len")
(PUNCT "(")
(ID "args")
(PUNCT ")")
(PUNCT "!=")
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "print")
(PUNCT "(")
(ID "usage")
(PUNCT ",")
(ID "file")
(PUNCT "=")
(ID "sys")
(PUNCT ".")
(ID "stderr")
(PUNCT ")")
(NEWLINE)
(ID "sys")
(PUNCT ".")
(ID "exit")
(PUNCT "(")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "url")
(PUNCT "=")
(ID "args")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(ID "open")
(PUNCT "(")
(ID "url")
(PUNCT ",")
(ID "new_win")
(PUNCT ")")
(NEWLINE)
(ID "print")
(PUNCT "(")
(LIT "\a")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "__name__")
(PUNCT "==")
(LIT "__main__")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "main")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ENDMARKER)
