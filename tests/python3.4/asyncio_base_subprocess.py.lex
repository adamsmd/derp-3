(KEYWORD import)
(ID "collections")
(NEWLINE)
(KEYWORD import)
(ID "subprocess")
(NEWLINE)
(KEYWORD import)
(ID "sys")
(NEWLINE)
(KEYWORD import)
(ID "warnings")
(NEWLINE)
(KEYWORD from)
(PUNCT ".")
(KEYWORD import)
(ID "futures")
(NEWLINE)
(KEYWORD from)
(PUNCT ".")
(KEYWORD import)
(ID "protocols")
(NEWLINE)
(KEYWORD from)
(PUNCT ".")
(KEYWORD import)
(ID "transports")
(NEWLINE)
(KEYWORD from)
(PUNCT ".")
(ID "coroutines")
(KEYWORD import)
(ID "coroutine")
(NEWLINE)
(KEYWORD from)
(PUNCT ".")
(ID "log")
(KEYWORD import)
(ID "logger")
(NEWLINE)
(KEYWORD class)
(ID "BaseSubprocessTransport")
(PUNCT "(")
(ID "transports")
(PUNCT ".")
(ID "SubprocessTransport")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "loop")
(PUNCT ",")
(ID "protocol")
(PUNCT ",")
(ID "args")
(PUNCT ",")
(ID "shell")
(PUNCT ",")
(ID "stdin")
(PUNCT ",")
(ID "stdout")
(PUNCT ",")
(ID "stderr")
(PUNCT ",")
(ID "bufsize")
(PUNCT ",")
(ID "waiter")
(PUNCT "=")
(KEYWORD None)
(PUNCT ",")
(ID "extra")
(PUNCT "=")
(KEYWORD None)
(PUNCT ",")
(PUNCT "**")
(ID "kwargs")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "super")
(PUNCT "(")
(PUNCT ")")
(PUNCT ".")
(ID "__init__")
(PUNCT "(")
(ID "extra")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_closed")
(PUNCT "=")
(KEYWORD False)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_protocol")
(PUNCT "=")
(ID "protocol")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT "=")
(ID "loop")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_proc")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_pid")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_exit_waiters")
(PUNCT "=")
(PUNCT "[")
(PUNCT "]")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_pending_calls")
(PUNCT "=")
(ID "collections")
(PUNCT ".")
(ID "deque")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "=")
(PUNCT "{")
(PUNCT "}")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_finished")
(PUNCT "=")
(KEYWORD False)
(NEWLINE)
(KEYWORD if)
(ID "stdin")
(PUNCT "==")
(ID "subprocess")
(PUNCT ".")
(ID "PIPE")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "stdout")
(PUNCT "==")
(ID "subprocess")
(PUNCT ".")
(ID "PIPE")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "stderr")
(PUNCT "==")
(ID "subprocess")
(PUNCT ".")
(ID "PIPE")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "[")
(LIT 2)
(PUNCT "]")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_start")
(PUNCT "(")
(ID "args")
(PUNCT "=")
(ID "args")
(PUNCT ",")
(ID "shell")
(PUNCT "=")
(ID "shell")
(PUNCT ",")
(ID "stdin")
(PUNCT "=")
(ID "stdin")
(PUNCT ",")
(ID "stdout")
(PUNCT "=")
(ID "stdout")
(PUNCT ",")
(ID "stderr")
(PUNCT "=")
(ID "stderr")
(PUNCT ",")
(ID "bufsize")
(PUNCT "=")
(ID "bufsize")
(PUNCT ",")
(PUNCT "**")
(ID "kwargs")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_pid")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_proc")
(PUNCT ".")
(ID "pid")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_extra")
(PUNCT "[")
(LIT "subprocess")
(PUNCT "]")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_proc")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT ".")
(ID "get_debug")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "isinstance")
(PUNCT "(")
(ID "args")
(PUNCT ",")
(PUNCT "(")
(ID "bytes")
(PUNCT ",")
(ID "str")
(PUNCT ")")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "program")
(PUNCT "=")
(ID "args")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "program")
(PUNCT "=")
(ID "args")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(NEWLINE)
(DEDENT)
(ID "logger")
(PUNCT ".")
(ID "debug")
(PUNCT "(")
(LIT "process %r created: pid %s")
(PUNCT ",")
(ID "program")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "_pid")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT ".")
(ID "create_task")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_connect_pipes")
(PUNCT "(")
(ID "waiter")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "__repr__")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "info")
(PUNCT "=")
(PUNCT "[")
(ID "self")
(PUNCT ".")
(ID "__class__")
(PUNCT ".")
(ID "__name__")
(PUNCT "]")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_closed")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "info")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(LIT "closed")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "info")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(LIT "pid=%s")
(PUNCT "%")
(ID "self")
(PUNCT ".")
(ID "_pid")
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "info")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(LIT "returncode=%s")
(PUNCT "%")
(ID "self")
(PUNCT ".")
(ID "_returncode")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "stdin")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT ".")
(ID "get")
(PUNCT "(")
(LIT 0)
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "stdin")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "info")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(LIT "stdin=%s")
(PUNCT "%")
(ID "stdin")
(PUNCT ".")
(ID "pipe")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "stdout")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT ".")
(ID "get")
(PUNCT "(")
(LIT 1)
(PUNCT ")")
(NEWLINE)
(ID "stderr")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT ".")
(ID "get")
(PUNCT "(")
(LIT 2)
(PUNCT ")")
(NEWLINE)
(KEYWORD if)
(ID "stdout")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(KEYWORD and)
(ID "stderr")
(KEYWORD is)
(ID "stdout")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "info")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(LIT "stdout=stderr=%s")
(PUNCT "%")
(ID "stdout")
(PUNCT ".")
(ID "pipe")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "stdout")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "info")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(LIT "stdout=%s")
(PUNCT "%")
(ID "stdout")
(PUNCT ".")
(ID "pipe")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "stderr")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "info")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(LIT "stderr=%s")
(PUNCT "%")
(ID "stderr")
(PUNCT ".")
(ID "pipe")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD return)
(LIT "<%s>")
(PUNCT "%")
(LIT " ")
(PUNCT ".")
(ID "join")
(PUNCT "(")
(ID "info")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_start")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "args")
(PUNCT ",")
(ID "shell")
(PUNCT ",")
(ID "stdin")
(PUNCT ",")
(ID "stdout")
(PUNCT ",")
(ID "stderr")
(PUNCT ",")
(ID "bufsize")
(PUNCT ",")
(PUNCT "**")
(ID "kwargs")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NotImplementedError")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_make_write_subprocess_pipe_proto")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "fd")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NotImplementedError")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_make_read_subprocess_pipe_proto")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "fd")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "NotImplementedError")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "close")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_closed")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_closed")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(KEYWORD for)
(ID "proto")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT ".")
(ID "values")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "proto")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD continue)
(NEWLINE)
(DEDENT)
(ID "proto")
(PUNCT ".")
(ID "pipe")
(PUNCT ".")
(ID "close")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_proc")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(KEYWORD and)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT ".")
(ID "get_debug")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "logger")
(PUNCT ".")
(ID "warning")
(PUNCT "(")
(LIT "Close running child process: kill %r")
(PUNCT ",")
(ID "self")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_proc")
(PUNCT ".")
(ID "kill")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "ProcessLookupError")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD pass)
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD if)
(ID "sys")
(PUNCT ".")
(ID "version_info")
(PUNCT ">=")
(PUNCT "(")
(LIT 3)
(PUNCT ",")
(LIT 4)
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "__del__")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "_closed")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "warnings")
(PUNCT ".")
(ID "warn")
(PUNCT "(")
(LIT "unclosed transport %r")
(PUNCT "%")
(ID "self")
(PUNCT ",")
(ID "ResourceWarning")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "close")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "get_pid")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "_pid")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "get_returncode")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "get_pipe_transport")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "fd")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "fd")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "[")
(ID "fd")
(PUNCT "]")
(PUNCT ".")
(ID "pipe")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(KEYWORD None)
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "_check_proc")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_proc")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "ProcessLookupError")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "send_signal")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "signal")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_check_proc")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_proc")
(PUNCT ".")
(ID "send_signal")
(PUNCT "(")
(ID "signal")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "terminate")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_check_proc")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_proc")
(PUNCT ".")
(ID "terminate")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "kill")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_check_proc")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_proc")
(PUNCT ".")
(ID "kill")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(PUNCT "@")
(ID "coroutine")
(NEWLINE)
(KEYWORD def)
(ID "_connect_pipes")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "waiter")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "proc")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_proc")
(NEWLINE)
(ID "loop")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_loop")
(NEWLINE)
(KEYWORD if)
(ID "proc")
(PUNCT ".")
(ID "stdin")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_")
(PUNCT ",")
(ID "pipe")
(PUNCT "=")
(KEYWORD yield)
(KEYWORD from)
(ID "loop")
(PUNCT ".")
(ID "connect_write_pipe")
(PUNCT "(")
(KEYWORD lambda)
(PUNCT ":")
(ID "WriteSubprocessPipeProto")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(LIT 0)
(PUNCT ")")
(PUNCT ",")
(ID "proc")
(PUNCT ".")
(ID "stdin")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "[")
(LIT 0)
(PUNCT "]")
(PUNCT "=")
(ID "pipe")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "proc")
(PUNCT ".")
(ID "stdout")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_")
(PUNCT ",")
(ID "pipe")
(PUNCT "=")
(KEYWORD yield)
(KEYWORD from)
(ID "loop")
(PUNCT ".")
(ID "connect_read_pipe")
(PUNCT "(")
(KEYWORD lambda)
(PUNCT ":")
(ID "ReadSubprocessPipeProto")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(LIT 1)
(PUNCT ")")
(PUNCT ",")
(ID "proc")
(PUNCT ".")
(ID "stdout")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "[")
(LIT 1)
(PUNCT "]")
(PUNCT "=")
(ID "pipe")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "proc")
(PUNCT ".")
(ID "stderr")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "_")
(PUNCT ",")
(ID "pipe")
(PUNCT "=")
(KEYWORD yield)
(KEYWORD from)
(ID "loop")
(PUNCT ".")
(ID "connect_read_pipe")
(PUNCT "(")
(KEYWORD lambda)
(PUNCT ":")
(ID "ReadSubprocessPipeProto")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(LIT 2)
(PUNCT ")")
(PUNCT ",")
(ID "proc")
(PUNCT ".")
(ID "stderr")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT "[")
(LIT 2)
(PUNCT "]")
(PUNCT "=")
(ID "pipe")
(NEWLINE)
(DEDENT)
(KEYWORD assert)
(ID "self")
(PUNCT ".")
(ID "_pending_calls")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(NEWLINE)
(ID "loop")
(PUNCT ".")
(ID "call_soon")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_protocol")
(PUNCT ".")
(ID "connection_made")
(PUNCT ",")
(ID "self")
(PUNCT ")")
(NEWLINE)
(KEYWORD for)
(ID "callback")
(PUNCT ",")
(ID "data")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "_pending_calls")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "loop")
(PUNCT ".")
(ID "call_soon")
(PUNCT "(")
(ID "callback")
(PUNCT ",")
(PUNCT "*")
(ID "data")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_pending_calls")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD except)
(ID "Exception")
(KEYWORD as)
(ID "exc")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "waiter")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(KEYWORD and)
(KEYWORD not)
(ID "waiter")
(PUNCT ".")
(ID "cancelled")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "waiter")
(PUNCT ".")
(ID "set_exception")
(PUNCT "(")
(ID "exc")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "waiter")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(KEYWORD and)
(KEYWORD not)
(ID "waiter")
(PUNCT ".")
(ID "cancelled")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "waiter")
(PUNCT ".")
(ID "set_result")
(PUNCT "(")
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "_call")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "cb")
(PUNCT ",")
(PUNCT "*")
(ID "data")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_pending_calls")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_pending_calls")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(PUNCT "(")
(ID "cb")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT ".")
(ID "call_soon")
(PUNCT "(")
(ID "cb")
(PUNCT ",")
(PUNCT "*")
(ID "data")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "_pipe_connection_lost")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "fd")
(PUNCT ",")
(ID "exc")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_call")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_protocol")
(PUNCT ".")
(ID "pipe_connection_lost")
(PUNCT ",")
(ID "fd")
(PUNCT ",")
(ID "exc")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_try_finish")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_pipe_data_received")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "fd")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_call")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_protocol")
(PUNCT ".")
(ID "pipe_data_received")
(PUNCT ",")
(ID "fd")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_process_exited")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "returncode")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD assert)
(ID "returncode")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ",")
(ID "returncode")
(NEWLINE)
(KEYWORD assert)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(KEYWORD is)
(KEYWORD None)
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "_returncode")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT ".")
(ID "get_debug")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "logger")
(PUNCT ".")
(ID "info")
(PUNCT "(")
(LIT "%r exited with return code %r")
(PUNCT ",")
(ID "self")
(PUNCT ",")
(ID "returncode")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(PUNCT "=")
(ID "returncode")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_call")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_protocol")
(PUNCT ".")
(ID "process_exited")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_try_finish")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(KEYWORD for)
(ID "waiter")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "_exit_waiters")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(KEYWORD not)
(ID "waiter")
(PUNCT ".")
(ID "cancelled")
(PUNCT "(")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "waiter")
(PUNCT ".")
(ID "set_result")
(PUNCT "(")
(ID "returncode")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "self")
(PUNCT ".")
(ID "_exit_waiters")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_wait")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(LIT "Wait until the process exit and return the process return code.\n\n        This method is a coroutine.")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(NEWLINE)
(DEDENT)
(ID "waiter")
(PUNCT "=")
(ID "futures")
(PUNCT ".")
(ID "Future")
(PUNCT "(")
(ID "loop")
(PUNCT "=")
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_exit_waiters")
(PUNCT ".")
(ID "append")
(PUNCT "(")
(ID "waiter")
(PUNCT ")")
(NEWLINE)
(KEYWORD return)
(PUNCT "(")
(KEYWORD yield)
(KEYWORD from)
(ID "waiter")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_try_finish")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD assert)
(KEYWORD not)
(ID "self")
(PUNCT ".")
(ID "_finished")
(NEWLINE)
(KEYWORD if)
(ID "self")
(PUNCT ".")
(ID "_returncode")
(KEYWORD is)
(KEYWORD None)
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "all")
(PUNCT "(")
(ID "p")
(KEYWORD is)
(KEYWORD not)
(KEYWORD None)
(KEYWORD and)
(ID "p")
(PUNCT ".")
(ID "disconnected")
(KEYWORD for)
(ID "p")
(KEYWORD in)
(ID "self")
(PUNCT ".")
(ID "_pipes")
(PUNCT ".")
(ID "values")
(PUNCT "(")
(PUNCT ")")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_finished")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_call")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "_call_connection_lost")
(PUNCT ",")
(KEYWORD None)
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "_call_connection_lost")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "exc")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD try)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_protocol")
(PUNCT ".")
(ID "connection_lost")
(PUNCT "(")
(ID "exc")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD finally)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_loop")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_proc")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "_protocol")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "WriteSubprocessPipeProto")
(PUNCT "(")
(ID "protocols")
(PUNCT ".")
(ID "BaseProtocol")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "proc")
(PUNCT ",")
(ID "fd")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "proc")
(PUNCT "=")
(ID "proc")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "fd")
(PUNCT "=")
(ID "fd")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "pipe")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "disconnected")
(PUNCT "=")
(KEYWORD False)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "connection_made")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "transport")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "pipe")
(PUNCT "=")
(ID "transport")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "__repr__")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD return)
(PUNCT "(")
(LIT "<%s fd=%s pipe=%r>")
(PUNCT "%")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "__class__")
(PUNCT ".")
(ID "__name__")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "fd")
(PUNCT ",")
(ID "self")
(PUNCT ".")
(ID "pipe")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "connection_lost")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "exc")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "disconnected")
(PUNCT "=")
(KEYWORD True)
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "proc")
(PUNCT ".")
(ID "_pipe_connection_lost")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "fd")
(PUNCT ",")
(ID "exc")
(PUNCT ")")
(NEWLINE)
(ID "self")
(PUNCT ".")
(ID "proc")
(PUNCT "=")
(KEYWORD None)
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "pause_writing")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "proc")
(PUNCT ".")
(ID "_protocol")
(PUNCT ".")
(ID "pause_writing")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "resume_writing")
(PUNCT "(")
(ID "self")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "proc")
(PUNCT ".")
(ID "_protocol")
(PUNCT ".")
(ID "resume_writing")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD class)
(ID "ReadSubprocessPipeProto")
(PUNCT "(")
(ID "WriteSubprocessPipeProto")
(PUNCT ",")
(ID "protocols")
(PUNCT ".")
(ID "Protocol")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "data_received")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "proc")
(PUNCT ".")
(ID "_pipe_data_received")
(PUNCT "(")
(ID "self")
(PUNCT ".")
(ID "fd")
(PUNCT ",")
(ID "data")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ENDMARKER)
