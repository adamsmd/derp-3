(LIT "A simple log mechanism styled after PEP 282.")
(NEWLINE)
(ID "DEBUG")
(PUNCT "=")
(LIT 1)
(NEWLINE)
(ID "INFO")
(PUNCT "=")
(LIT 2)
(NEWLINE)
(ID "WARN")
(PUNCT "=")
(LIT 3)
(NEWLINE)
(ID "ERROR")
(PUNCT "=")
(LIT 4)
(NEWLINE)
(ID "FATAL")
(PUNCT "=")
(LIT 5)
(NEWLINE)
(KEYWORD import)
(ID "sys")
(NEWLINE)
(KEYWORD class)
(ID "Log")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD def)
(ID "__init__")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "threshold")
(PUNCT "=")
(ID "WARN")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "threshold")
(PUNCT "=")
(ID "threshold")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "_log")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "level")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "args")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "level")
(KEYWORD not)
(KEYWORD in)
(PUNCT "(")
(ID "DEBUG")
(PUNCT ",")
(ID "INFO")
(PUNCT ",")
(ID "WARN")
(PUNCT ",")
(ID "ERROR")
(PUNCT ",")
(ID "FATAL")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD raise)
(ID "ValueError")
(PUNCT "(")
(LIT "%s wrong log level")
(PUNCT "%")
(ID "str")
(PUNCT "(")
(ID "level")
(PUNCT ")")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "level")
(PUNCT ">=")
(ID "self")
(PUNCT ".")
(ID "threshold")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "args")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "msg")
(PUNCT "=")
(ID "msg")
(PUNCT "%")
(ID "args")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "level")
(KEYWORD in)
(PUNCT "(")
(ID "WARN")
(PUNCT ",")
(ID "ERROR")
(PUNCT ",")
(ID "FATAL")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "stream")
(PUNCT "=")
(ID "sys")
(PUNCT ".")
(ID "stderr")
(NEWLINE)
(DEDENT)
(KEYWORD else)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "stream")
(PUNCT "=")
(ID "sys")
(PUNCT ".")
(ID "stdout")
(NEWLINE)
(DEDENT)
(KEYWORD if)
(ID "stream")
(PUNCT ".")
(ID "errors")
(PUNCT "==")
(LIT "strict")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "encoding")
(PUNCT "=")
(ID "stream")
(PUNCT ".")
(ID "encoding")
(NEWLINE)
(ID "msg")
(PUNCT "=")
(ID "msg")
(PUNCT ".")
(ID "encode")
(PUNCT "(")
(ID "encoding")
(PUNCT ",")
(LIT "backslashreplace")
(PUNCT ")")
(PUNCT ".")
(ID "decode")
(PUNCT "(")
(ID "encoding")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(ID "stream")
(PUNCT ".")
(ID "write")
(PUNCT "(")
(LIT "%s\n")
(PUNCT "%")
(ID "msg")
(PUNCT ")")
(NEWLINE)
(ID "stream")
(PUNCT ".")
(ID "flush")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(KEYWORD def)
(ID "log")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "level")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(PUNCT "*")
(ID "args")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_log")
(PUNCT "(")
(ID "level")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "args")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "debug")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(PUNCT "*")
(ID "args")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_log")
(PUNCT "(")
(ID "DEBUG")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "args")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "info")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(PUNCT "*")
(ID "args")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_log")
(PUNCT "(")
(ID "INFO")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "args")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "warn")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(PUNCT "*")
(ID "args")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_log")
(PUNCT "(")
(ID "WARN")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "args")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "error")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(PUNCT "*")
(ID "args")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_log")
(PUNCT "(")
(ID "ERROR")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "args")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "fatal")
(PUNCT "(")
(ID "self")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(PUNCT "*")
(ID "args")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "self")
(PUNCT ".")
(ID "_log")
(PUNCT "(")
(ID "FATAL")
(PUNCT ",")
(ID "msg")
(PUNCT ",")
(ID "args")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ID "_global_log")
(PUNCT "=")
(ID "Log")
(PUNCT "(")
(PUNCT ")")
(NEWLINE)
(ID "log")
(PUNCT "=")
(ID "_global_log")
(PUNCT ".")
(ID "log")
(NEWLINE)
(ID "debug")
(PUNCT "=")
(ID "_global_log")
(PUNCT ".")
(ID "debug")
(NEWLINE)
(ID "info")
(PUNCT "=")
(ID "_global_log")
(PUNCT ".")
(ID "info")
(NEWLINE)
(ID "warn")
(PUNCT "=")
(ID "_global_log")
(PUNCT ".")
(ID "warn")
(NEWLINE)
(ID "error")
(PUNCT "=")
(ID "_global_log")
(PUNCT ".")
(ID "error")
(NEWLINE)
(ID "fatal")
(PUNCT "=")
(ID "_global_log")
(PUNCT ".")
(ID "fatal")
(NEWLINE)
(KEYWORD def)
(ID "set_threshold")
(PUNCT "(")
(ID "level")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "old")
(PUNCT "=")
(ID "_global_log")
(PUNCT ".")
(ID "threshold")
(NEWLINE)
(ID "_global_log")
(PUNCT ".")
(ID "threshold")
(PUNCT "=")
(ID "level")
(NEWLINE)
(KEYWORD return)
(ID "old")
(NEWLINE)
(DEDENT)
(KEYWORD def)
(ID "set_verbosity")
(PUNCT "(")
(ID "v")
(PUNCT ")")
(PUNCT ":")
(NEWLINE)
(INDENT)
(KEYWORD if)
(ID "v")
(PUNCT "<=")
(LIT 0)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "set_threshold")
(PUNCT "(")
(ID "WARN")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "v")
(PUNCT "==")
(LIT 1)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "set_threshold")
(PUNCT "(")
(ID "INFO")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(KEYWORD elif)
(ID "v")
(PUNCT ">=")
(LIT 2)
(PUNCT ":")
(NEWLINE)
(INDENT)
(ID "set_threshold")
(PUNCT "(")
(ID "DEBUG")
(PUNCT ")")
(NEWLINE)
(DEDENT)
(DEDENT)
(ENDMARKER)
